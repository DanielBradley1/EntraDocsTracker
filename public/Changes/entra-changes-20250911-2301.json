{
  "sha": "4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7",
  "url": "https://github.com/MicrosoftDocs/entra-docs/commit/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7",
  "author": "learn-build-service-prod[bot]",
  "email": "113403604+learn-build-service-prod[bot]@users.noreply.github.com",
  "date": "2025-09-11T22:06:39Z",
  "message": "Merge pull request #9676 from MicrosoftDocs/main\n\nAuto Publish â€“ main to live - 2025-09-11 22:00 UTC",
  "ai_summary": {
    "Messages": "{\"content\":\"The following is the commit files that have changed: [\\r\\n  {\\r\\n    \\\"sha\\\": \\\"a16c4ef2e8101b6abcbde4af3b95f967c8701c16\\\",\\r\\n    \\\"filename\\\": \\\"docs/architecture/architecture.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 4,\\r\\n    \\\"deletions\\\": 2,\\r\\n    \\\"changes\\\": 6,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Farchitecture%2Farchitecture.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Farchitecture%2Farchitecture.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Farchitecture%2Farchitecture.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -7,7 +7,7 @@ manager: femila\\\\n ms.service: entra\\\\n ms.subservice: architecture\\\\n ms.topic: concept-article\\\\n-ms.date: 01/16/2025\\\\n+ms.date: 09/10/2025\\\\n ms.author: barclayn\\\\n ms.reviewer: jeffsta\\\\n ---\\\\n@@ -98,7 +98,9 @@ Microsoft Entra ID provides read-write consistency for applications targeting a\\\\n Application writes using the Microsoft Graph API of Microsoft Entra ID are abstracted from maintaining affinity to a directory replica for read-write consistency. The Microsoft Graph API service maintains a logical session. The session has affinity to a secondary replica used for reads. Affinity is captured in a \\\\\\\"replica token\\\\\\\" that the service caches using a distributed cache in the secondary replica datacenter. This token is then used for subsequent operations in the same logical session. To continue using the same logical session, subsequent requests must be routed to the same Microsoft Entra datacenter. It isn't possible to continue a logical session if the directory client requests are being routed to multiple Microsoft Entra datacenters. If sessions are split, then the client has multiple logical sessions that have independent read-write consistencies.\\\\n \\\\n > [!NOTE]\\\\n- > Writes are immediately replicated to the secondary replica to which the logical session's reads were issued.\\\\n+> Writes are immediately replicated to the secondary replica to which the logical session's reads were issued.\\\\n+>\\\\n+> For [application-only requests](../identity-platform/app-only-access-primer.md), Microsoft Entra ID does not provide session consistency. Session consistency is only supported for [delegated requests](../identity-platform/delegated-access-primer.md) (application+user token flow). \\\\n \\\\n #### Service-level backup\\\\n \\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"2e725d479503ba4b631f58c0e47ee8f2dd4a4ccc\\\",\\r\\n    \\\"filename\\\": \\\"docs/external-id/migrate-to-xtap-v2-api.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 1,\\r\\n    \\\"deletions\\\": 1,\\r\\n    \\\"changes\\\": 2,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fexternal-id%2Fmigrate-to-xtap-v2-api.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fexternal-id%2Fmigrate-to-xtap-v2-api.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fexternal-id%2Fmigrate-to-xtap-v2-api.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -334,7 +334,7 @@ The following configuration allows all users in group `aaaaaaaa-0000-1111-2222-b\\\\n ]\\\\t\\\\n ```\\\\n \\\\n-The following configuration allows B2B direct connect access to all external tenants for all users in the group `aaaaaaaa-0000-1111-2222-bbbbbbbbbbbb` in the home tenant. It also blocks access to one external application with application ID `cccccccc-2222-3333-4444-dddddddddddd`. The last configuration blocks access to the rest of the users in the home tenant for the B2B direct connect feature. \\\\n+The following configuration allows B2B direct connect access to all external tenants for all users in the group `aaaaaaaa-0000-1111-2222-bbbbbbbbbbbb` in the home tenant. It also blocks access to one external application with application ID `00001111-aaaa-2222-bbbb-3333cccc4444`. The last configuration blocks access to the rest of the users in the home tenant for the B2B direct connect feature. \\\\n \\\\n ```json\\\\n \\\\\\\"ToMyTenancy\\\\\\\": [\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"57e1f3dd987a5ab553fad268694b79bd9657a6f3\\\",\\r\\n    \\\"filename\\\": \\\"docs/id-governance/entitlement-management-access-package-requests.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 1,\\r\\n    \\\"deletions\\\": 1,\\r\\n    \\\"changes\\\": 2,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fid-governance%2Fentitlement-management-access-package-requests.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fid-governance%2Fentitlement-management-access-package-requests.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fid-governance%2Fentitlement-management-access-package-requests.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -35,7 +35,7 @@ In entitlement management, you can see who has requested access packages, the po\\\\n If you have a set of users whose requests are in the \\\\\\\"Partially Delivered\\\\\\\" or \\\\\\\"Failed\\\\\\\" state, you can retry those requests by using the [reprocess functionality](entitlement-management-reprocess-access-package-requests.md).\\\\n \\\\n ### View requests with Microsoft Graph\\\\n-You can also retrieve requests for an access package using Microsoft Graph. A user in an appropriate role with an application that has the delegated `EntitlementManagement.Read.All` or `EntitlementManagement.ReadWrite.All` permission can call the API to [list assignmentRequests](/graph/api/entitlementmanagement-list-assignmentrequests?view=graph-rest-1.0&preserve-view=true). While an Identity Governance Administrator can retrieve access package requests from multiple catalogs, if user or application service principal is assigned only to catalog-specific delegated administrative roles, the request must supply a filter to indicate a specific access package, such as: `$expand=accessPackage&$filter=accessPackage/id eq '00aa00aa-bb11-cc22-dd33-44ee44ee44ee'`. An application that has the application permission `EntitlementManagement.Read.All` or `EntitlementManagement.ReadWrite.All` permission can also use this API to retrieve requests across all catalogs.\\\\n+You can also retrieve requests for an access package using Microsoft Graph. A user in an appropriate role with an application that has the delegated `EntitlementManagement.Read.All` or `EntitlementManagement.ReadWrite.All` permission can call the API to [list assignmentRequests](/graph/api/entitlementmanagement-list-assignmentrequests?view=graph-rest-1.0&preserve-view=true). While an Identity Governance Administrator can retrieve access package requests from multiple catalogs, if user or application service principal is assigned only to catalog-specific delegated administrative roles, the request must supply a filter to indicate a specific access package, such as: `$expand=accessPackage&$filter=accessPackage/id eq 'aaaabbbb-0000-cccc-1111-dddd2222eeee'`. An application that has the application permission `EntitlementManagement.Read.All` or `EntitlementManagement.ReadWrite.All` permission can also use this API to retrieve requests across all catalogs.\\\\n \\\\n Microsoft Graph will return the results in pages, and will continue to return a reference to the next page of results in the `@odata.nextLink` property with each response, until all pages of the results have been read. To read all results, you must continue to call Microsoft Graph with the `@odata.nextLink` property returned in each response until the `@odata.nextLink` property is no longer returned, as described in [paging Microsoft Graph data in your app](/graph/paging).\\\\n \\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"b783f3d51b8fa49f1cd1f968877e1477d3354fe4\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity-platform/custom-extension-email-otp-send-data.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 1,\\r\\n    \\\"deletions\\\": 1,\\r\\n    \\\"changes\\\": 2,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Fcustom-extension-email-otp-send-data.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Fcustom-extension-email-otp-send-data.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity-platform%2Fcustom-extension-email-otp-send-data.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -47,7 +47,7 @@ The following JSON document provides an example of a request payload:\\\\n             \\\\\\\"identifier\\\\\\\": \\\\\\\"someone@example.com\\\\\\\",\\\\n             \\\\\\\"oneTimeCode\\\\\\\": \\\\\\\"12345678\\\\\\\"\\\\n         },\\\\n-        \\\\\\\"tenantId\\\\\\\": \\\\\\\"ffffffff-eeee-dddd-cccc-bbbbbbbbbbb0\\\\\\\",\\\\n+        \\\\\\\"tenantId\\\\\\\": \\\\\\\"aaaabbbb-0000-cccc-1111-dddd2222eeee\\\\\\\",\\\\n         \\\\\\\"authenticationEventListenerId\\\\\\\": \\\\\\\"00001111-aaaa-2222-bbbb-3333cccc4444\\\\\\\",\\\\n         \\\\\\\"customAuthenticationExtensionId\\\\\\\": \\\\\\\"11112222-bbbb-3333-cccc-4444dddd5555\\\\\\\",\\\\n         \\\\\\\"authenticationContext\\\\\\\": {\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"b73b1743302254545a0949b821c8c93cc28868a6\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity-platform/howto-update-permissions.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 2,\\r\\n    \\\"deletions\\\": 2,\\r\\n    \\\"changes\\\": 4,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Fhowto-update-permissions.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Fhowto-update-permissions.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity-platform%2Fhowto-update-permissions.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -90,7 +90,7 @@ To complete the following steps of adding permissions, you need the following re\\\\n \\\\n 1. Identify the permissions your app requires, their permission IDs, and whether they're app roles (application permissions) or delegated permissions. For example, if you want to request Microsoft Graph permissions, see [Microsoft Graph permissions](/graph/permissions-reference#permission-scenarios) for a list of permissions and their IDs.\\\\n 1. Add the required Microsoft Graph permissions to your app.\\\\n-   The following example calls the [Update application](/graph/api/application-update) API to add the required Microsoft Graph permissions to an app registration identified by object ID `ffffffff-eeee-dddd-cccc-bbbbbbbbbbb0`. This example uses `Analytics.Read` and `Application.Read.All` delegated permission and application permission. Microsoft Graph is identified as a ServicePrincipal object with `00000003-0000-0000-c000-000000000000` as its globally unique `AppId`.\\\\n+   The following example calls the [Update application](/graph/api/application-update) API to add the required Microsoft Graph permissions to an app registration identified by object ID `00001111-aaaa-2222-bbbb-3333cccc4444`. This example uses `Analytics.Read` and `Application.Read.All` delegated permission and application permission. Microsoft Graph is identified as a ServicePrincipal object with `00000003-0000-0000-c000-000000000000` as its globally unique `AppId`.\\\\n \\\\n    ```http\\\\n    PATCH https://graph.microsoft.com/v1.0/applications/aaaaaaaa-0000-1111-2222-bbbbbbbbbbbb\\\\n@@ -204,7 +204,7 @@ To complete the following steps of removing permissions, you need the following\\\\n 1. Identify the permissions for your app.\\\\n 1. For example, to stop your app from requesting Microsoft Graph permissions, identify the Microsoft Graph permissions for your app, their permission IDs, and whether they're app roles (application permissions) or delegated permissions.\\\\n 1. Remove the unwanted Microsoft Graph permissions from your app.\\\\n-   The following example calls the [Update application](/graph/api/application-update) API to remove the unwanted Microsoft Graph permissions from an app registration identified by a sample client ID `ffffffff-eeee-dddd-cccc-bbbbbbbbbbb0`. In this example, the application has `Analytics.Read`, `User.Read`, and `Application.Read.All`. We need to remove `Analytics.Read` and `Application.Read.All` delegated permission and application permission. Microsoft Graph is identified as a ServicePrincipal object with `00000003-0000-0000-c000-000000000000` as its globally unique `AppId` and Microsoft Graph as its `DisplayName` and `AppDisplayName`.\\\\n+   The following example calls the [Update application](/graph/api/application-update) API to remove the unwanted Microsoft Graph permissions from an app registration identified by a sample client ID `00001111-aaaa-2222-bbbb-3333cccc4444`. In this example, the application has `Analytics.Read`, `User.Read`, and `Application.Read.All`. We need to remove `Analytics.Read` and `Application.Read.All` delegated permission and application permission. Microsoft Graph is identified as a ServicePrincipal object with `00000003-0000-0000-c000-000000000000` as its globally unique `AppId` and Microsoft Graph as its `DisplayName` and `AppDisplayName`.\\\\n \\\\n     ```http\\\\n     PATCH https://graph.microsoft.com/v1.0/applications/00001111-aaaa-2222-bbbb-3333cccc4444\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"c6f7b2c00a94f4fd057771b740be3d738fe389e0\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity-platform/reference-breaking-changes.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 2,\\r\\n    \\\"deletions\\\": 2,\\r\\n    \\\"changes\\\": 4,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Freference-breaking-changes.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fidentity-platform%2Freference-breaking-changes.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity-platform%2Freference-breaking-changes.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -345,8 +345,8 @@ To remedy this issue, use the Admin Consent experience to create the client appl\\\\n \\\\n #### Example request\\\\n \\\\n-`https://login.microsoftonline.com/contoso.com/oauth2/authorize?resource=https://gateway.contoso.com/api&response_type=token&client_id=ffffffff-eeee-dddd-cccc-bbbbbbbbbbb0&...`\\\\n-In this example, the resource tenant (authority) is contoso.com, the resource app is a single-tenant app called `gateway.contoso.com/api` for the Contoso tenant, and the client app is `ffffffff-eeee-dddd-cccc-bbbbbbbbbbb0`. If the client app has a service principal within Contoso.com, this request can continue. If it doesn't, however, then the request will fail with the error above.\\\\n+`https://login.microsoftonline.com/contoso.com/oauth2/authorize?resource=https://gateway.contoso.com/api&response_type=token&client_id=00001111-aaaa-2222-bbbb-3333cccc4444&...`\\\\n+In this example, the resource tenant (authority) is contoso.com, the resource app is a single-tenant app called `gateway.contoso.com/api` for the Contoso tenant, and the client app is `00001111-aaaa-2222-bbbb-3333cccc4444`. If the client app has a service principal within Contoso.com, this request can continue. If it doesn't, however, then the request will fail with the error above.\\\\n \\\\n If the Contoso gateway app were a multitenant application, however, then the request would continue regardless of the client app having a service principal within Contoso.com.\\\\n \\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"9a3f842ce4017a16ca78e29089b96474505bf22a\\\",\\r\\n    \\\"filename\\\": \\\"docs/includes/entra-identifier-uri-patterns.md\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 1,\\r\\n    \\\"deletions\\\": 1,\\r\\n    \\\"changes\\\": 2,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fincludes%2Fentra-identifier-uri-patterns.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7/docs%2Fincludes%2Fentra-identifier-uri-patterns.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fincludes%2Fentra-identifier-uri-patterns.md?ref=4ae0f8ec8a1c2f438bd21ff57c4a2bc2b1539ae7\\\",\\r\\n    \\\"patch\\\": \\\"@@ -11,7 +11,7 @@ The following API and HTTP scheme-based application ID URI formats are supported\\\\n \\\\n | Supported application ID <br/> URI formats | Example app ID URIs |\\\\n |--|--|\\\\n-| *api://\\\\\\\\<appId\\\\\\\\>* | *api://00001111-aaaa-2222-bbbb-3333cccc4444* |\\\\n+| *api://\\\\\\\\<appId\\\\\\\\>* | *api://aaaabbbb-0000-cccc-1111-dddd2222eeee* |\\\\n | *api://\\\\\\\\<tenantId\\\\\\\\>/\\\\\\\\<appId\\\\\\\\>* | *api://aaaabbbb-0000-cccc-1111-dddd2222eeee/00001111-aaaa-2222-bbbb-3333cccc4444* |\\\\n | *api://\\\\\\\\<tenantId\\\\\\\\>/\\\\\\\\<string\\\\\\\\>* | *api://aaaabbbb-0000-cccc-1111-dddd2222eeee/api* |\\\\n | *api://\\\\\\\\<string\\\\\\\\>/<appId\\\\\\\\>* | *api://productapi/00001111-aaaa-2222-bbbb-3333cccc4444* |\\\"\\r\\n  }\\r\\n]. Please summarise it in a few sentences, using UK grammar and ensure the response is formatted for markdown. Do not start the response with here is summary.\",\"role\":\"user\"}",
    "Response": "This commit updates several documentation files.\n\nThe `architecture.md` file has a date update and clarifies session consistency for application-only requests versus delegated requests.\n\nThe `migrate-to-xtap-v2-api.md`, `entitlement-management-access-package-requests.md`, `custom-extension-email-otp-send-data.md`, and `howto-update-permissions.md` files contain minor corrections to example GUIDs and application IDs.\n\nFinally, the `reference-breaking-changes.md` file also sees a correction in an example client ID within a URL.",
    "Model": "google:gemini-2.5-flash-lite",
    "Provider": "google",
    "ModelName": "gemini-2.5-flash-lite",
    "Timestamp": "2025-09-11T23:01:09.3783564+00:00"
  },
  "files": [
    {
      "filename": "docs/architecture/architecture.md",
      "status": "modified",
      "additions": 4,
      "deletions": 2
    },
    {
      "filename": "docs/external-id/migrate-to-xtap-v2-api.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1
    },
    {
      "filename": "docs/id-governance/entitlement-management-access-package-requests.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1
    },
    {
      "filename": "docs/identity-platform/custom-extension-email-otp-send-data.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1
    },
    {
      "filename": "docs/identity-platform/howto-update-permissions.md",
      "status": "modified",
      "additions": 2,
      "deletions": 2
    },
    {
      "filename": "docs/identity-platform/reference-breaking-changes.md",
      "status": "modified",
      "additions": 2,
      "deletions": 2
    },
    {
      "filename": "docs/includes/entra-identifier-uri-patterns.md",
      "status": "modified",
      "additions": 1,
      "deletions": 1
    }
  ]
}