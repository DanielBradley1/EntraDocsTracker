{
  "sha": "30c9a1e08fbd20dde74d074fad16494aac9f7461",
  "url": "https://github.com/MicrosoftDocs/entra-docs/commit/30c9a1e08fbd20dde74d074fad16494aac9f7461",
  "author": "Taojunshen",
  "email": "v-jutao@microsoft.com",
  "date": "2025-09-10T17:13:23Z",
  "message": "Merge pull request #9660 from MicrosoftDocs/main\n\n9/10/2025 AM Publish",
  "ai_summary": {
    "Messages": "{\"content\":\"The following is the commit files that have changed: [\\r\\n  {\\r\\n    \\\"sha\\\": \\\"1f90d7390d00d3e5ea8f015d9c1c9e4d49f8092d\\\",\\r\\n    \\\"filename\\\": \\\".openpublishing.redirection.json\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 15,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 15,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/.openpublishing.redirection.json\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/.openpublishing.redirection.json\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/.openpublishing.redirection.json?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1470,6 +1470,21 @@\\\\n       \\\\\\\"redirect_url\\\\\\\": \\\\\\\"/entra/identity/managed-identities-azure-resources/how-to-assign-azure-resource\\\\\\\",\\\\n       \\\\\\\"redirect_document_id\\\\\\\": false\\\\n     },\\\\n+    {\\\\n+      \\\\\\\"source_path_from_root\\\\\\\": \\\\\\\"/docs/identity/managed-identities-azure-resources/how-manage-user-assigned-managed-identities.md\\\\\\\",\\\\n+      \\\\\\\"redirect_url\\\\\\\": \\\\\\\"/entra/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-portal\\\\\\\",\\\\n+      \\\\\\\"redirect_document_id\\\\\\\": false\\\\n+    },\\\\n+    {\\\\n+      \\\\\\\"source_path_from_root\\\\\\\": \\\\\\\"/docs/identity/managed-identities-azure-resources/how-to-assign-app-role-managed-identity.md\\\\\\\",\\\\n+      \\\\\\\"redirect_url\\\\\\\": \\\\\\\"/entra/identity/managed-identities-azure-resources/assign-app-role-managed-identity-azure-cli\\\\\\\",\\\\n+      \\\\\\\"redirect_document_id\\\\\\\": false\\\\n+    },\\\\n+    {\\\\n+      \\\\\\\"source_path_from_root\\\\\\\": \\\\\\\"/docs/identity/managed-identities-azure-resources/how-to-assign-access-azure-resource.md\\\\\\\",\\\\n+      \\\\\\\"redirect_url\\\\\\\": \\\\\\\"/entra/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-portal\\\\\\\",\\\\n+      \\\\\\\"redirect_document_id\\\\\\\": false\\\\n+    },\\\\n     {\\\\n       \\\\\\\"source_path_from_root\\\\\\\": \\\\\\\"/docs/identity/managed-identities-azure-resources/howto-assign-access-powershell.md\\\\\\\",\\\\n       \\\\\\\"redirect_url\\\\\\\": \\\\\\\"/entra/identity/managed-identities-azure-resources/how-to-assign-azure-resource\\\\\\\",\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"8d7b4a544596c021cf2abee19acd4ef1820c2041\\\",\\r\\n    \\\"filename\\\": \\\"docs/fundamentals/media/whats-new/entra-whats-new-highlights.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Ffundamentals%2Fmedia%2Fwhats-new%2Fentra-whats-new-highlights.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Ffundamentals%2Fmedia%2Fwhats-new%2Fentra-whats-new-highlights.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Ffundamentals%2Fmedia%2Fwhats-new%2Fentra-whats-new-highlights.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"196c58a57a793732797cac5723a20851f934b447\\\",\\r\\n    \\\"filename\\\": \\\"docs/id-protection/media/howto-export-risk-data/change-diagnostic-setting-in-portal.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fid-protection%2Fmedia%2Fhowto-export-risk-data%2Fchange-diagnostic-setting-in-portal.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fid-protection%2Fmedia%2Fhowto-export-risk-data%2Fchange-diagnostic-setting-in-portal.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fid-protection%2Fmedia%2Fhowto-export-risk-data%2Fchange-diagnostic-setting-in-portal.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"c960946ac31a43ec89e9e52a3fab94fd5e92aa70\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity-platform/media/app-objects-and-service-principals/app-registrations-blade.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity-platform%2Fmedia%2Fapp-objects-and-service-principals%2Fapp-registrations-blade.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity-platform%2Fmedia%2Fapp-objects-and-service-principals%2Fapp-registrations-blade.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity-platform%2Fmedia%2Fapp-objects-and-service-principals%2Fapp-registrations-blade.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"8972b551f7e5e4012563522270f7a5e292ea9ea0\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity-platform/media/quickstart-configure-app-access-web-apis/portal-path-to-my-apis-pane.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity-platform%2Fmedia%2Fquickstart-configure-app-access-web-apis%2Fportal-path-to-my-apis-pane.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity-platform%2Fmedia%2Fquickstart-configure-app-access-web-apis%2Fportal-path-to-my-apis-pane.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity-platform%2Fmedia%2Fquickstart-configure-app-access-web-apis%2Fportal-path-to-my-apis-pane.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"65cd680a096c3b4d8fae693231e05da775802259\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/app-provisioning/media/inbound-provisioning-api-configure-app/provisioning-entra-admin-center.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fapp-provisioning%2Fmedia%2Finbound-provisioning-api-configure-app%2Fprovisioning-entra-admin-center.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fapp-provisioning%2Fmedia%2Finbound-provisioning-api-configure-app%2Fprovisioning-entra-admin-center.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fapp-provisioning%2Fmedia%2Finbound-provisioning-api-configure-app%2Fprovisioning-entra-admin-center.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"296af0242ba0fd2f2fa51d19e477738f6fb60075\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/authentication/media/tutorial-risk-based-sspr-mfa/enable-mfa-registration.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fauthentication%2Fmedia%2Ftutorial-risk-based-sspr-mfa%2Fenable-mfa-registration.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fauthentication%2Fmedia%2Ftutorial-risk-based-sspr-mfa%2Fenable-mfa-registration.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fauthentication%2Fmedia%2Ftutorial-risk-based-sspr-mfa%2Fenable-mfa-registration.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"001f3dfac96ef92daeb14bb9bac11ec17319647d\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/TOC.yml\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 23,\\r\\n    \\\"deletions\\\": 3,\\r\\n    \\\"changes\\\": 26,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2FTOC.yml\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2FTOC.yml\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2FTOC.yml?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -17,17 +17,37 @@\\\\n - name: How-to guides\\\\n   items:\\\\n     - name: Manage user-assigned managed identities\\\\n-      href: how-manage-user-assigned-managed-identities.md\\\\n+      items:\\\\n+        - name: Azure portal\\\\n+          href: manage-user-assigned-managed-identities-azure-portal.md\\\\n+        - name: CLI\\\\n+          href: manage-user-assigned-managed-identities-azure-cli.md\\\\n+        - name: PowerShell\\\\n+          href: manage-user-assigned-managed-identities-powershell.md\\\\n+        - name: ARM template\\\\n+          href: manage-user-assigned-managed-identities-azure-resource-manager.md\\\\n+        - name: REST\\\\n+          href: manage-user-assigned-managed-identities-rest.md\\\\n     - name: Acquire an access token\\\\n       href: how-to-use-vm-token.md\\\\n     - name: Grant a managed identity access to Azure resources\\\\n-      href: how-to-assign-access-azure-resource.md\\\\n+      items:\\\\n+        - name: Azure portal\\\\n+          href: grant-managed-identity-resource-access-azure-portal.md\\\\n+        - name: PowerShell\\\\n+          href: grant-managed-identity-resource-access-powershell.md\\\\n+        - name: Azure CLI\\\\n+          href: grant-managed-identity-resource-access-azure-cli.md\\\\n     - name: Configure an Entra app to trust a managed identity\\\\n       href: /entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?toc=/entra/identity/managed-identities-azure-resources/toc.json\\\\n     - name: Use Azure Resources Extension for VS Code\\\\n       href: azure-resources-extension-managed-identities.md\\\\n     - name: Assign an app role to a managed identity\\\\n-      href: how-to-assign-app-role-managed-identity.md\\\\n+      items:\\\\n+        - name: PowerShell\\\\n+          href: assign-app-role-managed-identity-powershell.md\\\\n+        - name: Azure CLI\\\\n+          href: assign-app-role-managed-identity-azure-cli.md\\\\n     - name: View associated resources for a managed identity\\\\n       href: how-to-view-associated-resources-for-an-identity.md\\\\n     - name: View managed identity activity\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"4f096d56bd2d862438f32aeb15a6ab6fa232823e\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/assign-app-role-managed-identity-azure-cli.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 105,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 105,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-azure-cli.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-azure-cli.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-azure-cli.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,105 @@\\\\n+---\\\\n+title: Assign a managed identity to an application role using Azure CLI\\\\n+description: Step-by-step instructions for assigning a managed identity access to another application's role using Azure CLI.\\\\n+\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Assign an application role to a managed identity using Azure CLI\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/assign-app-role-to-managed-identity-intro.md)]\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, see [Managed identity for Azure resources overview](./overview.md). \\\\n+- Review the [difference between a system-assigned and user-assigned managed identity](/azure/logic-apps/authenticate-with-managed-identity).\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n+\\\\n+## Assign a managed identity access to another application's app role using CLI\\\\n+\\\\n+[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n+\\\\n+1. Enable managed identity on an Azure resource, [such as an Azure virtual machines](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities.md).\\\\n+\\\\n+1. Find the object ID of the managed identity's service principal.\\\\n+\\\\n+   - **For a system-assigned managed identity**, you can find the object ID on the Azure portal on the resource's **Identity** page. You can also use the following script to find the object ID. You'll need the resource ID of the resource you created in the previous step, which is available in the Azure portal on the resource's **Properties** page.\\\\n+\\\\n+        ```azurecli\\\\n+        resourceIdWithManagedIdentity=\\\\\\\"/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.Compute/virtualMachines/{my virtual machine name}\\\\\\\"\\\\n+        \\\\n+        oidForMI=$(az resource show --ids $resourceIdWithManagedIdentity --query \\\\\\\"identity.principalId\\\\\\\" -o tsv | tr -d '[:space:]')\\\\n+        echo \\\\\\\"object id for managed identity is: $oidForMI\\\\\\\"\\\\n+        ```\\\\n+\\\\n+    - **For a user-assigned managed identity**, you can find the managed identity's object ID on the Azure portal on the resource's **Overview** page. You can also use the following script to find the object ID. You'll need the resource ID of the user-assigned managed identity.\\\\n+\\\\n+        ```azurecli\\\\n+        userManagedIdentityResourceId=\\\\\\\"/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{my managed identity name}\\\\\\\"\\\\n+        \\\\n+        oidForMI=$(az resource show --id $userManagedIdentityResourceId --query \\\\\\\"properties.principalId\\\\\\\" -o tsv | tr -d '[:space:]')\\\\n+        echo \\\\\\\"object id for managed identity is: $oidForMI\\\\\\\"\\\\n+        ```\\\\n+\\\\n+1. [Create a new application registration](/entra/identity-platform/quickstart-register-app) to represent the service that your managed identity sends a request to.\\\\n+   -  If the API or service that exposes the app role grant to the managed identity already has a service principal in your Microsoft Entra tenant, skip this step.\\\\n+\\\\n+1. Find the object ID of the service application's service principal. You can find this using the [Microsoft Entra admin center](https://entra.microsoft.com/). \\\\n+   1. Sign in to the [Microsoft Entra admin center](https://entra.microsoft.com/). \\\\n+   1. In the left nav blade, select **Entra ID** > **Enterprise apps**. Then find the application and look for the **Object ID**.  \\\\n+   1. You can also find the service principal's object ID by its display name using the following script:\\\\n+\\\\n+        ```azurecli\\\\n+        appName=\\\\\\\"{name for your application}\\\\\\\"\\\\n+        serverSPOID=$(az ad sp list --filter \\\\\\\"displayName eq '$appName'\\\\\\\" --query '[0].id' -o tsv | tr -d '[:space:]')\\\\n+        echo \\\\\\\"object id for server service principal is: $serverSPOID\\\\\\\"\\\\n+        ```\\\\n+\\\\n+        > [!NOTE]\\\\n+        > Display names for applications are not unique, so you should verify that you obtain the correct application's service principal.\\\\n+\\\\n+    1. Or you can find the Object ID by the unique Application ID for your application registration:\\\\n+\\\\n+        ```azurecli\\\\n+        appID=\\\\\\\"{application id for your application}\\\\\\\"\\\\n+        serverSPOID=$(az ad sp list --filter \\\\\\\"appId eq '$appID'\\\\\\\" --query '[0].id' -o tsv | tr -d '[:space:]')\\\\n+        echo \\\\\\\"object id for server service principal is: $serverSPOID\\\\\\\"\\\\n+        ```\\\\n+\\\\n+1. Add an [app role](~/identity-platform/howto-add-app-roles-in-apps.md) to the application you created in the previous step. You can create the role using the Azure portal or using Microsoft Graph. For example, you could add an app role like this:\\\\n+\\\\n+    ```json\\\\n+    {\\\\n+        \\\\\\\"allowedMemberTypes\\\\\\\": [\\\\n+            \\\\\\\"Application\\\\\\\"\\\\n+        ],\\\\n+        \\\\\\\"displayName\\\\\\\": \\\\\\\"Read data from MyApi\\\\\\\",\\\\n+        \\\\\\\"id\\\\\\\": \\\\\\\"00001111-aaaa-2222-bbbb-3333cccc4444\\\\\\\",\\\\n+        \\\\\\\"isEnabled\\\\\\\": true,\\\\n+        \\\\\\\"description\\\\\\\": \\\\\\\"Allow the application to read data as itself.\\\\\\\",\\\\n+        \\\\\\\"value\\\\\\\": \\\\\\\"MyApi.Read.All\\\\\\\"\\\\n+    }\\\\n+    ```\\\\n+\\\\n+1. Assign the app role to the managed identity. You'll need the following information to assign the app role:\\\\n+    - `managedIdentityObjectId`: the object ID of the managed identity's service principal, which you found in step 2.\\\\n+    - `serverServicePrincipalObjectId`: the object ID of the server application's service principal, which you found in step 4.\\\\n+    - `appRoleId`: the ID of the app role exposed by the server app, which you generated in step 5 - in the example, the app role ID is `00000000-0000-0000-0000-000000000000`.\\\\n+   \\\\n+1. Execute the following script to add the role assignment. This functionality isn't directly exposed on the Azure CLI and that a REST command is used here instead:\\\\n+\\\\n+    ```azurecli\\\\n+    roleguid=\\\\\\\"00000000-0000-0000-0000-000000000000\\\\\\\"\\\\n+    az rest -m POST -u https://graph.microsoft.com/v1.0/servicePrincipals/$oidForMI/appRoleAssignments -b \\\\\\\"{\\\\\\\\\\\\\\\"principalId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$oidForMI\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"resourceId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$serverSPOID\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"appRoleId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$roleguid\\\\\\\\\\\\\\\"}\\\\\\\"\\\\n+    ```\\\\n+\\\\n+## Next steps\\\\n+\\\\n+- [Managed identity for Azure resources overview](./overview.md)\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"9dc48278475561d22cc124a2b7e33c7e34f1abaa\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/assign-app-role-managed-identity-powershell.md\\\",\\r\\n    \\\"status\\\": \\\"renamed\\\",\\r\\n    \\\"additions\\\": 48,\\r\\n    \\\"deletions\\\": 29,\\r\\n    \\\"changes\\\": 77,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-powershell.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-powershell.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fassign-app-role-managed-identity-powershell.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,17 +1,31 @@\\\\n ---\\\\n+title: Assign a managed identity to an application role using PowerShell\\\\n+description: Step-by-step instructions for assigning a managed identity access to another application's role using PowerShell.\\\\n+\\\\n author: SHERMANOUKO\\\\n-ms.author: shermanouko\\\\n-ms.date: 03/14/2025\\\\n-ms.topic: include\\\\n+manager: CelesteDG\\\\n+\\\\n ms.service: entra-id\\\\n ms.subservice: managed-identities\\\\n-ms.custom:\\\\n-  - devx-track-azurepowershell\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n ---\\\\n \\\\n+# Assign an application role to a managed identity using PowerShell\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/assign-app-role-to-managed-identity-intro.md)]\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, see [Managed identity for Azure resources overview](./overview.md). \\\\n+- Review the [difference between a system-assigned and user-assigned managed identity](/azure/logic-apps/authenticate-with-managed-identity).\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n+\\\\n ## Assign a managed identity access to another application's app role using PowerShell\\\\n \\\\n To run the example scripts, you have two options:\\\\n+\\\\n - Use the [Azure Cloud Shell](/azure/cloud-shell/overview), which you can open using the **Try It** button on the top-right corner of code blocks.\\\\n - Run scripts locally by installing the latest version of the [Microsoft Graph PowerShell SDK](/powershell/microsoftgraph/get-started).\\\\n \\\\n@@ -21,34 +35,35 @@ To run the example scripts, you have two options:\\\\n \\\\n     **For a system-assigned managed identity**, you can find the object ID on the Azure portal on the resource's **Identity** page. You can also use the following PowerShell script to find the object ID. You'll need the resource ID of the resource you created in step 1, which is available in the Azure portal on the resource's **Properties** page.\\\\n \\\\n-     ```powershell\\\\n-     $resourceIdWithManagedIdentity = '/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.Compute/virtualMachines/{my virtual machine name}'\\\\n-     (Get-AzResource -ResourceId $resourceIdWithManagedIdentity).Identity.PrincipalId\\\\n-     ```\\\\n+    ```powershell\\\\n+    $resourceIdWithManagedIdentity = '/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.Compute/virtualMachines/{my virtual machine name}'\\\\n+    (Get-AzResource -ResourceId $resourceIdWithManagedIdentity).Identity.PrincipalId\\\\n+    ```\\\\n \\\\n-     **For a user-assigned managed identity**, you can find the managed identity's object ID on the Azure portal on the resource's **Overview** page. You can also use the following PowerShell script to find the object ID. You'll need the resource ID of the user-assigned managed identity.\\\\n+    **For a user-assigned managed identity**, you can find the managed identity's object ID on the Azure portal on the resource's **Overview** page. You can also use the following PowerShell script to find the object ID. You'll need the resource ID of the user-assigned managed identity.\\\\n \\\\n-     ```powershell\\\\n-     $userManagedIdentityResourceId = '/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{my managed identity name}'\\\\n-     (Get-AzResource -ResourceId $userManagedIdentityResourceId).Properties.PrincipalId\\\\n-     ```\\\\n+    ```powershell\\\\n+    $userManagedIdentityResourceId = '/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{my managed identity name}'\\\\n+    (Get-AzResource -ResourceId $userManagedIdentityResourceId).Properties.PrincipalId\\\\n+    ```\\\\n \\\\n 1. [Create a new application registration](/entra/identity-platform/quickstart-register-app) to represent the service that you want your managed identity to send a request to. \\\\n    - If the API or service that exposes the app role grant to the managed identity already has a service principal in your Microsoft Entra tenant, skip this step. For example, in the case that you want to grant the managed identity access to the Microsoft Graph API.\\\\n \\\\n 1. Find the object ID of the service application's service principal. You can find this using the [Microsoft Entra admin center](https://entra.microsoft.com/). \\\\n-   - Sign in to the [Microsoft Entra admin center](https://entra.microsoft.com/). In the left nav blade, select **Entra ID** > **Enterprise apps**. Then find the application and look for the **Object ID**. \\\\n-   - You can also find the service principal's object ID by its display name using the following PowerShell script:\\\\n+   1. Sign in to the [Microsoft Entra admin center](https://entra.microsoft.com/). \\\\n+   1. In the left nav blade, select **Entra ID** > **Enterprise apps**. Then find the application and look for the **Object ID**. \\\\n+   1. You can also find the service principal's object ID by its display name using the following PowerShell script:\\\\n \\\\n     ```powershell\\\\n     $serverServicePrincipalObjectId = (Get-MgServicePrincipal -Filter \\\\\\\"DisplayName eq '$applicationName'\\\\\\\").Id\\\\n     ```\\\\n \\\\n     > [!NOTE]\\\\n-    > Display names for applications are not unique, so you should verify that you obtain the correct application's service principal.\\\\n+    > Display names for applications aren't unique, so you should verify that you obtain the correct application's service principal.\\\\n \\\\n 1. Add an [app role](~/identity-platform/howto-add-app-roles-in-apps.md) to the application you created in the previous step. You can then create the role using the Azure portal or by using Microsoft Graph. \\\\n-   - For example, you could add an app role by running the following query in [Graph explorer](https://developer.microsoft.com/graph/graph-explorer):\\\\n+   For example, you could add an app role by running the following query in [Graph explorer](https://developer.microsoft.com/graph/graph-explorer):\\\\n \\\\n     ```http\\\\n     PATCH /applications/{id}/\\\\n@@ -71,19 +86,19 @@ To run the example scripts, you have two options:\\\\n     ```\\\\n \\\\n 1. Assign the app role to the managed identity. You'll need the following information to assign the app role:\\\\n-    * `managedIdentityObjectId`: the object ID of the managed identity's service principal, which you found in the previous step.\\\\n-    * `serverServicePrincipalObjectId`: the object ID of the server application's service principal, which you found in step 4.\\\\n-    * `appRoleId`: the ID of the app role exposed by the server app, which you generated in step 5 - in the example, the app role ID is `00000000-0000-0000-0000-000000000000`.\\\\n+    - `managedIdentityObjectId`: the object ID of the managed identity's service principal, which you found in the previous step.\\\\n+    - `serverServicePrincipalObjectId`: the object ID of the server application's service principal, which you found in step 4.\\\\n+    - `appRoleId`: the ID of the app role exposed by the server app, which you generated in step 5 - in the example, the app role ID is `00000000-0000-0000-0000-000000000000`.\\\\n    \\\\n-   - Execute the following PowerShell command to add the role assignment:\\\\n+    - Execute the following PowerShell command to add the role assignment:\\\\n \\\\n-    ```powershell\\\\n-    New-MgServicePrincipalAppRoleAssignment `\\\\n-        -ServicePrincipalId $serverServicePrincipalObjectId `\\\\n-        -PrincipalId $managedIdentityObjectId `\\\\n-        -ResourceId $serverServicePrincipalObjectId `\\\\n-        -AppRoleId $appRoleId\\\\n-    ```\\\\n+        ```powershell\\\\n+        New-MgServicePrincipalAppRoleAssignment `\\\\n+            -ServicePrincipalId $serverServicePrincipalObjectId `\\\\n+            -PrincipalId $managedIdentityObjectId `\\\\n+            -ResourceId $serverServicePrincipalObjectId `\\\\n+            -AppRoleId $appRoleId\\\\n+        ```\\\\n \\\\n ## Complete example script\\\\n \\\\n@@ -123,3 +138,7 @@ New-MgServicePrincipalAppRoleAssignment `\\\\n     -ResourceId $serverServicePrincipalObjectId `\\\\n     -AppRoleId $appRoleId\\\\n ```\\\\n+\\\\n+## Next steps\\\\n+\\\\n+[Managed identity for Azure resources overview](./overview.md)\\\",\\r\\n    \\\"previous_filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/how-to-assign-app-role-managed-identity-powershell.md\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"ff94c81e6bf74eb72198f5947fb653fb7a4954a8\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-azure-cli.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 49,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 49,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-cli.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-cli.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-cli.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,49 @@\\\\n+---\\\\n+title: Use Azure CLI to grant a managed identity access to a resource\\\\n+description: Step-by-step instructions on using Azure CLI to assign a managed identity access to an Azure resource or another resource.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Use Azure CLI to grant a managed identity access to a resource\\\\n+\\\\n+This article shows you how to use the Azure CLI to give a managed identity access to an Azure resource. In this article, we use the example of an Azure virtual machine (Azure VM) managed identity accessing an Azure storage account. Once you've configured an Azure resource with a managed identity, you can then give the managed identity access to another resource, similar to any security principal.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- Be sure you've enabled managed identity on an Azure resource, such as an [Azure virtual machine](how-to-configure-managed-identities.md). \\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n+\\\\n+## Prepare your environment\\\\n+\\\\n+[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n+\\\\n+## Use Azure RBAC to assign a managed identity access to another resource\\\\n+\\\\n+1. In this example, you give an Azure virtual machine (VM) managed access to a storage account. First use [az resource list](/cli/azure/resource#az-resource-list) to get the service principal for a VM named myVM:\\\\n+\\\\n+   ```azurecli-interactive\\\\n+   spID=$(az resource list -n myVM --query [*].identity.principalId --out tsv)\\\\n+   ```\\\\n+   For an Azure Virtual Machine (VM) scale set, the command is the same except here you get the service principal for the VM set named \\\\\\\"DevTestVMSS\\\\\\\":\\\\n+   \\\\n+   ```azurecli-interactive\\\\n+   spID=$(az resource list -n DevTestVMSS --query [*].identity.principalId --out tsv)\\\\n+   ```\\\\n+\\\\n+1. Once you have the service principal ID, use [az role assignment create](/cli/azure/role/assignment#az-role-assignment-create) to give the virtual machine or virtual machine scale set **Reader** access to a storage account called \\\\\\\"myStorageAcct\\\\\\\":\\\\n+\\\\n+   ```azurecli-interactive\\\\n+   az role assignment create --assignee $spID --role 'Reader' --scope /subscriptions/<mySubscriptionID>/resourceGroups/<myResourceGroup>/providers/Microsoft.Storage/storageAccounts/myStorageAcct\\\\n+   ```\\\\n+\\\\n+## Related content\\\\n+\\\\n+- [Configure an application to trust a managed identity](/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?toc=/entra/identity/managed-identities-azure-resources/toc.json)\\\\n+- [Use Azure Resources Extension in Visual Studio (VS) Code for Managed Identities](./azure-resources-extension-managed-identities.md)\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"8982b940f0846e008bd19cf28d107f0dbeb3949e\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-azure-portal.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 42,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 42,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-portal.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-portal.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-azure-portal.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,42 @@\\\\n+---\\\\n+title: Use Azure portal to grant a managed identity access to a resource\\\\n+description: Step-by-step instructions on using Azure portal to assign a managed identity access to an Azure resource or another resource.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Use Azure portal to grant a managed identity access to a resource\\\\n+\\\\n+This article shows you how to use the Azure portal to give a managed identity access to an Azure resource. In this article, we use the example of an Azure virtual machine (Azure VM) managed identity accessing an Azure storage account. Once you've configured an Azure resource with a managed identity, you can then give the managed identity access to another resource, similar to any security principal.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- Be sure you've enabled managed identity on an Azure resource, such as an [Azure virtual machine](how-to-configure-managed-identities.md). \\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n+\\\\n+## Use Azure RBAC to assign a managed identity access to another resource using the Azure portal\\\\n+\\\\n+The steps outlined below show how you grant access to a service using Azure RBAC. Check specific service documentation on how to grant access; for example, check [Azure Data Explorer](/azure/data-explorer/data-explorer-overview) for instructions. Some Azure services are in the process of adopting Azure RBAC on the data plane.\\\\n+\\\\n+1. Sign in to the [Azure portal](https://portal.azure.com) using an account associated with the Azure subscription for which you've configured the managed identity.\\\\n+\\\\n+1. Navigate to the desired resource that you want to modify access control. In this example, you'll give an Azure virtual machine (VM) access to a storage account, then you can navigate to the storage account.\\\\n+\\\\n+1. Select **Access control (IAM)**.\\\\n+\\\\n+1. Select **Add** > **Add role assignment** to open the **Add role assignment** page.\\\\n+\\\\n+1. Select the role and managed identity. For detailed steps, see [Assign Azure roles using the Azure portal](/azure/role-based-access-control/role-assignments-portal).\\\\n+\\\\n+    :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"../../media/common/add-role-assignment-page.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the page for adding a role assignment.\\\\\\\":::\\\\n+\\\\n+## Related content\\\\n+\\\\n+- [Configure an application to trust a managed identity](/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?toc=/entra/identity/managed-identities-azure-resources/toc.json)\\\\n+- [Use Azure Resources Extension in Visual Studio (VS) Code for Managed Identities](./azure-resources-extension-managed-identities.md)\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"c68f7e3296f0193c5a17821d89d0d8cb45e2ece6\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-powershell.md\\\",\\r\\n    \\\"status\\\": \\\"renamed\\\",\\r\\n    \\\"additions\\\": 25,\\r\\n    \\\"deletions\\\": 7,\\r\\n    \\\"changes\\\": 32,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-powershell.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-powershell.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fgrant-managed-identity-resource-access-powershell.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,23 +1,36 @@\\\\n---- \\\\n+---\\\\n+title: Use PowerShell to grant a managed identity access to a resource\\\\n+description: Step-by-step instructions on using PowerShell to assign a managed identity access to an Azure resource or another resource.\\\\n+\\\\n author: SHERMANOUKO\\\\n-ms.author: shermanouko\\\\n-ms.date: 06/03/2024\\\\n-ms.topic: include\\\\n+manager: CelesteDG\\\\n+\\\\n ms.service: entra-id\\\\n ms.subservice: managed-identities\\\\n-ms.custom:\\\\n-  - devx-track-azurepowershell\\\\n+ms.topic: how-to\\\\n+ms.date: 06/03/2024\\\\n+ms.author: shermanouko\\\\n ---\\\\n \\\\n+# Use PowerShell to grant a managed identity access to a resource\\\\n+\\\\n+This article shows you how to use PowerShell to give a managed identity access to an Azure resource. In this article, we use the example of an Azure virtual machine (Azure VM) managed identity accessing an Azure storage account. Once you've configured an Azure resource with a managed identity, you can then give the managed identity access to another resource, similar to any security principal.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- Be sure you've enabled managed identity on an Azure resource, such as an [Azure virtual machine](how-to-configure-managed-identities.md). \\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n+\\\\n ## Use Azure RBAC to assign a managed identity access to another resource using PowerShell\\\\n \\\\n [!INCLUDE [az-powershell-update](~/includes/azure-docs-pr/updated-for-az.md)]\\\\n \\\\n To run the scripts in this example, you have two options:\\\\n+\\\\n - Use the [Azure Cloud Shell](/azure/cloud-shell/overview), which you can open using the **Try It** button on the top-right corner of code blocks.\\\\n - Run scripts locally by installing the latest version of [Azure PowerShell](/powershell/azure/install-azure-powershell), then sign in to Azure using `Connect-AzAccount`. \\\\n \\\\n-1. Enable managed identity on an Azure resource, [such as an Azure VM](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities.md).\\\\n+1. Enable managed identity on an Azure resource, [such as an Azure VM](./how-to-configure-managed-identities.md).\\\\n \\\\n 1. Give the Azure virtual machine (VM) access to a storage account. \\\\n    1. Use [Get-AzVM](/powershell/module/az.compute/get-azvm) to get the service principal for the VM named `myVM`, which was created when you enabled managed identity. \\\\n@@ -27,3 +40,8 @@ To run the scripts in this example, you have two options:\\\\n     $spID = (Get-AzVM -ResourceGroupName myRG -Name myVM).identity.principalid\\\\n     New-AzRoleAssignment -ObjectId $spID -RoleDefinitionName \\\\\\\"Reader\\\\\\\" -Scope \\\\\\\"/subscriptions/<mySubscriptionID>/resourceGroups/<myResourceGroup>/providers/Microsoft.Storage/storageAccounts/<myStorageAcct>\\\\\\\"\\\\n     ```\\\\n+\\\\n+## Next steps\\\\n+\\\\n+- [Configure an application to trust a managed identity](/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity?toc=/entra/identity/managed-identities-azure-resources/toc.json)\\\\n+- [Use Azure Resources Extension in Visual Studio (VS) Code for Managed Identities](./azure-resources-extension-managed-identities.md)\\\",\\r\\n    \\\"previous_filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/howto-assign-access-powershell.md\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"5740d795615375aa051b36ebd60c5dca42ee58db\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/how-manage-user-assigned-managed-identities.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 403,\\r\\n    \\\"changes\\\": 403,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-manage-user-assigned-managed-identities.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-manage-user-assigned-managed-identities.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-manage-user-assigned-managed-identities.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,403 +0,0 @@\\\\n----\\\\n-title: Manage user-assigned managed identities\\\\n-description: Create user-assigned managed identities.\\\\n-author: SHERMANOUKO\\\\n-manager: CelesteDG\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n-ms.topic: how-to\\\\n-ms.date: 01/15/2025\\\\n-ms.author: shermanouko\\\\n-ms.custom: devx-track-azurecli, devx-track-linux, sfi-image-nochange\\\\n-zone_pivot_groups: identity-mi-methods\\\\n----\\\\n-\\\\n-# Manage user-assigned managed identities\\\\n-\\\\n-Managed identities for Azure resources eliminate the need to manage credentials in code. You can use them to get a Microsoft Entra token for your applications. The applications can use the token when accessing resources that support Microsoft Entra authentication. Azure manages the identity so you don't have to.\\\\n-\\\\n-There are two types of managed identities: system-assigned and user-assigned. System-assigned managed identities have their lifecycle tied to the resource that created them. This identity is restricted to only one resource, and you can grant permissions to the managed identity by using Azure role-based access control (RBAC). User-assigned managed identities can be used on multiple resources.\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-methods-azp\\\\\\\"\\\\n-\\\\n-In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using the Azure portal.\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types).\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n-\\\\n-## Create a user-assigned managed identity\\\\n-\\\\n-To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n-1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n-1. Select **Add**, and enter values in the following boxes in the **Create User Assigned Managed Identity** pane:\\\\n-    - **Subscription**: Choose the subscription to create the user-assigned managed identity under.\\\\n-    - **Resource group**: Choose a resource group to create the user-assigned managed identity in, or select **Create new** to create a new resource group.\\\\n-    - **Region**: Choose a region to deploy the user-assigned managed identity, for example, **West US**.\\\\n-    - **Name**: Enter the name for your user-assigned managed identity, for example, UAI1.\\\\n-\\\\n-   [!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n-\\\\n-   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/create-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the Create User Assigned Managed Identity pane.\\\\\\\":::\\\\n-\\\\n-1. Select **Review + create** to review the changes.\\\\n-1. Select **Create**.\\\\n-\\\\n-## List user-assigned managed identities\\\\n-\\\\n-To list or read a user-assigned managed identity, your account needs to have either [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignments.\\\\n-\\\\n-1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n-1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n-1. A list of the user-assigned managed identities for your subscription is returned. To see the details of a user-assigned managed identity, select its name.\\\\n-1. You can now view the details about the managed identity as shown in the image.\\\\n-\\\\n-   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/list-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the list of user-assigned managed identity.\\\\\\\":::\\\\n-\\\\n-## Delete a user-assigned managed identity\\\\n-\\\\n-To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-Deleting a user-assigned identity doesn't remove it from the VM or resource it was assigned to. To remove the user-assigned identity from a VM, see [Remove a user-assigned managed identity from a VM](qs-configure-portal-windows-vm.md#remove-a-user-assigned-managed-identity-from-a-vm).\\\\n-\\\\n-1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n-1. Select the user-assigned managed identity, and select **Delete**.\\\\n-1. Under the confirmation box, select **Yes**.\\\\n-\\\\n-\\\\n-   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/delete-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the Delete user-assigned managed identities.\\\\\\\":::\\\\n-\\\\n-## Manage access to user-assigned managed identities\\\\n-\\\\n-In some environments, administrators choose to limit who can manage user-assigned managed identities. Administrators can implement this limitation using [built-in](/azure/role-based-access-control/built-in-roles#identity) RBAC roles. You can use these roles to grant a user or group in your organization rights over a user-assigned managed identity.\\\\n-\\\\n-1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n-1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n-1. A list of the user-assigned managed identities for your subscription is returned. Select the user-assigned managed identity that you want to manage.\\\\n-1. Select **Access control (IAM)**.\\\\n-1. Choose **Add role assignment**.\\\\n-\\\\n-   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/role-assign.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the user-assigned managed identity access control screen.\\\\\\\":::\\\\n-\\\\n-1. In the **Add role assignment** pane, choose the role to assign and choose **Next**.\\\\n-1. Choose who should have the role assigned.\\\\n-\\\\n->[!NOTE]\\\\n->You can find information on assigning roles to managed identities in [Assign a managed identity access to a resource by using the Azure portal](/azure/role-based-access-control/role-assignments-portal-managed-identity)\\\\n-\\\\n-::: zone-end\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-methods-azcli\\\\\\\"\\\\n-\\\\n-In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using the Azure CLI.\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n-\\\\n-\\\\n-[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n-\\\\n-> [!IMPORTANT]\\\\n-> To modify user permissions when you use an app service principal by using the CLI, you must provide the service principal more permissions in the Azure Active Directory Graph API because portions of the CLI perform GET requests against the Graph API. Otherwise, you might end up receiving an \\\\\\\"Insufficient privileges to complete the operation\\\\\\\" message. To do this step, go into the **App registration** in Microsoft Entra ID, select your app, select **API permissions**, and scroll down and select **Azure Active Directory Graph**. From there, select **Application permissions**, and then add the appropriate permissions.\\\\n-\\\\n-## Create a user-assigned managed identity\\\\n-\\\\n-To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-Use the `az identity create` command to create a user-assigned managed identity. The `-g` parameter specifies the resource group where to create the user-assigned managed identity. The `-n` parameter specifies its name. Replace the `<RESOURCE GROUP>` and `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n-\\\\n-[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n-\\\\n-```azurecli-interactive\\\\n-az identity create -g <RESOURCE GROUP> -n <USER ASSIGNED IDENTITY NAME>\\\\n-```\\\\n-## List user-assigned managed identities\\\\n-\\\\n-To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To list user-assigned managed identities, use the `az identity list` command. Replace the `<RESOURCE GROUP>` value with your own value.\\\\n-\\\\n-```azurecli-interactive\\\\n-az identity list -g <RESOURCE GROUP>\\\\n-```\\\\n-\\\\n-In the JSON response, user-assigned managed identities have the `\\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"` value returned for the key `type`.\\\\n-\\\\n-`\\\\\\\"type\\\\\\\": \\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"`\\\\n-\\\\n-## Delete a user-assigned managed identity\\\\n-\\\\n-To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To delete a user-assigned managed identity, use the `az identity delete` command. The `-n` parameter specifies its name. The `-g` parameter specifies the resource group where the user-assigned managed identity was created. Replace the `<USER ASSIGNED IDENTITY NAME>` and `<RESOURCE GROUP>` parameter values with your own values.\\\\n-\\\\n-```azurecli-interactive\\\\n-az identity delete -n <USER ASSIGNED IDENTITY NAME> -g <RESOURCE GROUP>\\\\n-```\\\\n-> [!NOTE]\\\\n-> Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to. Remove those from a VM or virtual machine scale set by using the `az vm/vmss identity remove` command.\\\\n-\\\\n-## Next steps\\\\n-\\\\n-- For a full list of Azure CLI identity commands, see [az identity](/cli/azure/identity).\\\\n-- For information on how to assign a user-assigned managed identity to an Azure VM, see [Configure managed identities for Azure resources on an Azure VM using Azure CLI](qs-configure-cli-windows-vm.md#user-assigned-managed-identity).\\\\n-\\\\n-::: zone-end\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-methods-powershell\\\\\\\"\\\\n-\\\\n-In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using the PowerShell.\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n-- To run the example scripts, you have two options:\\\\n-    - Use [Azure Cloud Shell](/azure/cloud-shell/overview), which you can open by using the **Try It** button in the upper-right corner of code blocks.\\\\n-    - Run scripts locally with Azure PowerShell, as described in the next section.\\\\n-\\\\n-In this article, you learn how to create, list, and delete a user-assigned managed identity by using PowerShell.\\\\n-\\\\n-### Configure Azure PowerShell locally\\\\n-\\\\n-To use Azure PowerShell locally for this article instead of using Cloud Shell:\\\\n-\\\\n-1. Install [the latest version of Azure PowerShell](/powershell/azure/install-azure-powershell) if you haven't already.\\\\n-\\\\n-1. Sign in to Azure.\\\\n-\\\\n-    ```azurepowershell-interactive\\\\n-    Connect-AzAccount\\\\n-    ```\\\\n-\\\\n-1. Install the [latest version of PowerShellGet](/powershell/gallery/powershellget/install-powershellget).\\\\n-\\\\n-    ```azurepowershell-interactive\\\\n-    Install-Module -Name PowerShellGet -AllowPrerelease\\\\n-    ```\\\\n-\\\\n-    You might need to `Exit` out of the current PowerShell session after you run this command for the next step.\\\\n-\\\\n-1. Install the prerelease version of the `Az.ManagedServiceIdentity` module to perform the user-assigned managed identity operations in this article.\\\\n-\\\\n-    ```azurepowershell-interactive\\\\n-    Install-Module -Name Az.ManagedServiceIdentity -AllowPrerelease\\\\n-    ```\\\\n-\\\\n-## Create a user-assigned managed identity\\\\n-\\\\n-To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To create a user-assigned managed identity, use the `New-AzUserAssignedIdentity` command. The `ResourceGroupName` parameter specifies the resource group where to create the user-assigned managed identity. The `-Name` parameter specifies its name. Replace the `<RESOURCE GROUP>` and `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n-\\\\n-[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n-\\\\n-```azurepowershell-interactive\\\\n-New-AzUserAssignedIdentity -ResourceGroupName <RESOURCEGROUP> -Name <USER ASSIGNED IDENTITY NAME>\\\\n-```\\\\n-\\\\n-## List user-assigned managed identities\\\\n-\\\\n-To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To list user-assigned managed identities, use the `Get-AzUserAssignedIdentity` command. The `-ResourceGroupName` parameter specifies the resource group where the user-assigned managed identity was created. Replace the `<RESOURCE GROUP>` value with your own value.\\\\n-\\\\n-```azurepowershell-interactive\\\\n-Get-AzUserAssignedIdentity -ResourceGroupName <RESOURCE GROUP>\\\\n-```\\\\n-\\\\n-In the response, user-assigned managed identities have the `\\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"` value returned for the key `Type`.\\\\n-\\\\n-`Type :Microsoft.ManagedIdentity/userAssignedIdentities`\\\\n-\\\\n-## Delete a user-assigned managed identity\\\\n-\\\\n-To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To delete a user-assigned managed identity, use the `Remove-AzUserAssignedIdentity` command. The `-ResourceGroupName` parameter specifies the resource group where the user-assigned identity was created. The `-Name` parameter specifies its name. Replace the `<RESOURCE GROUP>` and the `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n-\\\\n-```azurepowershell-interactive\\\\n-Remove-AzUserAssignedIdentity -ResourceGroupName <RESOURCE GROUP> -Name <USER ASSIGNED IDENTITY NAME>\\\\n-```\\\\n-\\\\n-Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to. Identity assignments must be removed separately.\\\\n-\\\\n-## Next steps\\\\n-\\\\n-For a full list and more details of the Azure PowerShell managed identities for Azure resources commands, see [Az.ManagedServiceIdentity](/powershell/module/az.managedserviceidentity/#managed_service_identity).\\\\n-\\\\n-::: zone-end\\\\n-\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-methods-arm\\\\\\\"\\\\n-\\\\n-In this article, you create a user-assigned managed identity by using Azure Resource Manager.\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n-\\\\n-You can't list and delete a user-assigned managed identity by using a Resource Manager template. Use the other methods in this article to list or delete a user-assigned managed identity.\\\\n-\\\\n-## Template creation and editing\\\\n-\\\\n-Resource Manager templates help you deploy new or modified resources defined by an Azure resource group. Several options are available for template editing and deployment, both local and portal-based. You can:\\\\n-\\\\n-- Use a [custom template from Azure Marketplace](/azure/azure-resource-manager/templates/deploy-portal#deploy-resources-from-custom-template) to create a template from scratch or base it on an existing common or [quickstart template](https://azure.microsoft.com/resources/templates/).\\\\n-- Derive from an existing resource group by exporting a template. You can export them from either [the original deployment](/azure/azure-resource-manager/management/manage-resource-groups-portal#export-resource-groups-to-templates) or from the [current state of the deployment](/azure/azure-resource-manager/management/manage-resource-groups-portal#export-resource-groups-to-templates).\\\\n-- Use a local [JSON editor (such as VS Code)](/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal), and then upload and deploy by using PowerShell or the Azure CLI.\\\\n-- Use the Visual Studio [Azure Resource Group project](/azure/azure-resource-manager/templates/create-visual-studio-deployment-project) to create and deploy a template.\\\\n-\\\\n-## Create a user-assigned managed identity\\\\n-\\\\n-To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-To create a user-assigned managed identity, use the following template. Replace the `<USER ASSIGNED IDENTITY NAME>` value with your own values.\\\\n-\\\\n-[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n-\\\\n-```json\\\\n-{\\\\n-  \\\\\\\"$schema\\\\\\\": \\\\\\\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\\\\\\\",\\\\n-  \\\\\\\"contentVersion\\\\\\\": \\\\\\\"1.0.0.0\\\\\\\",\\\\n-  \\\\\\\"parameters\\\\\\\": {\\\\n-    \\\\\\\"resourceName\\\\\\\": {\\\\n-          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n-          \\\\\\\"metadata\\\\\\\": {\\\\n-            \\\\\\\"description\\\\\\\": \\\\\\\"<USER ASSIGNED IDENTITY NAME>\\\\\\\"\\\\n-          }\\\\n-        }\\\\n-  },\\\\n-  \\\\\\\"resources\\\\\\\": [\\\\n-    {\\\\n-      \\\\\\\"type\\\\\\\": \\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\",\\\\n-      \\\\\\\"name\\\\\\\": \\\\\\\"[parameters('resourceName')]\\\\\\\",\\\\n-      \\\\\\\"apiVersion\\\\\\\": \\\\\\\"2018-11-30\\\\\\\",\\\\n-      \\\\\\\"location\\\\\\\": \\\\\\\"[resourceGroup().location]\\\\\\\"\\\\n-    }\\\\n-  ],\\\\n-  \\\\\\\"outputs\\\\\\\": {\\\\n-      \\\\\\\"identityName\\\\\\\": {\\\\n-          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n-          \\\\\\\"value\\\\\\\": \\\\\\\"[parameters('resourceName')]\\\\\\\"\\\\n-      }\\\\n-  }\\\\n-}\\\\n-```\\\\n-## Next steps\\\\n-\\\\n-To assign a user-assigned managed identity to an Azure VM using a Resource Manager template, see [Configure managed identities for Azure resources on an Azure VM using a template](qs-configure-template-windows-vm.md).\\\\n-\\\\n-::: zone-end\\\\n-\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-methods-rest\\\\\\\"\\\\n-\\\\n-In this article, you learn how to create, list, and delete a user-assigned managed identity by using REST.\\\\n-\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n-- You can run all the commands in this article either in the cloud or locally:\\\\n-    - To run in the cloud, use [Azure Cloud Shell](/azure/cloud-shell/overview).\\\\n-    - To run locally, install [curl](https://curl.se/download.html) and the [Azure CLI](/cli/azure/install-azure-cli).\\\\n-\\\\n-\\\\n-In this article, you learn how to create, list, and delete a user-assigned managed identity by using CURL to make REST API calls.\\\\n-\\\\n-## Obtain a bearer access token\\\\n-\\\\n-1. If you're running locally, sign in to Azure through the Azure CLI.\\\\n-\\\\n-    ```azurecli-interactive\\\\n-    az login\\\\n-    ```\\\\n-\\\\n-1. Obtain an access token by using [az account get-access-token](/cli/azure/account#az-account-get-access-token).\\\\n-\\\\n-    ```azurecli-interactive\\\\n-    az account get-access-token\\\\n-    ```\\\\n-\\\\n-## Create a user-assigned managed identity\\\\n-\\\\n-To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n-\\\\n-```bash\\\\n-curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n-s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview' -X PUT -d '{\\\\\\\"location\\\\\\\": \\\\\\\"<LOCATION>\\\\\\\"}' -H \\\\\\\"Content-Type: application/json\\\\\\\" -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n-```\\\\n-\\\\n-```HTTP\\\\n-PUT https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n-s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview HTTP/1.1\\\\n-```\\\\n-\\\\n-**Request headers**\\\\n-\\\\n-|Request header  |Description  |\\\\n-|---------|---------|\\\\n-|*Content-Type*     | Required. Set to `application/json`.        |\\\\n-|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\\n-\\\\n-**Request body**\\\\n-\\\\n-|Name  |Description  |\\\\n-|---------|---------|\\\\n-|Location     | Required. Resource location.        |\\\\n-\\\\n-## List user-assigned managed identities\\\\n-\\\\n-To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-```bash\\\\n-curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroups/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities?api-version=2015-08-31-preview' -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n-```\\\\n-\\\\n-```HTTP\\\\n-GET https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroups/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities?api-version=2015-08-31-preview HTTP/1.1\\\\n-```\\\\n-\\\\n-|Request header  |Description  |\\\\n-|---------|---------|\\\\n-|*Content-Type*     | Required. Set to `application/json`.        |\\\\n-|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\\n-\\\\n-## Delete a user-assigned managed identity\\\\n-\\\\n-To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n-\\\\n-> [!NOTE]\\\\n-> Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to. To remove a user-assigned managed identity from a VM by using CURL, see [Remove a user-assigned identity from an Azure VM](qs-configure-rest-vm.md#remove-a-user-assigned-managed-identity-from-an-azure-vm).\\\\n-\\\\n-```bash\\\\n-curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n-s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview' -X DELETE -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n-```\\\\n-\\\\n-```HTTP\\\\n-DELETE https://management.azure.com/subscriptions/aaaa0a0a-bb1b-cc2c-dd3d-eeeeee4e4e4e/resourceGroups/TestRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview HTTP/1.1\\\\n-```\\\\n-\\\\n-|Request header  |Description  |\\\\n-|---------|---------|\\\\n-|*Content-Type*     | Required. Set to `application/json`.        |\\\\n-|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\\n-\\\\n-## Next steps\\\\n-\\\\n-For information on how to assign a user-assigned managed identity to an Azure VM or virtual machine scale set by using CURL, see:\\\\n-- [Configure managed identities for Azure resources on an Azure VM using REST API calls](qs-configure-rest-vm.md#user-assigned-managed-identity)\\\\n-- [Configure managed identities for Azure resources on a virtual machine scale set using REST API calls](qs-configure-rest-vmss.md#user-assigned-managed-identity)\\\\n-\\\\n-::: zone-end\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"a1cf73db08fbdcee97f4251e6d00d5126539a80d\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/how-to-assign-access-azure-resource.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 46,\\r\\n    \\\"changes\\\": 46,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-access-azure-resource.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-access-azure-resource.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-access-azure-resource.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,46 +0,0 @@\\\\n----\\\\n-title: Assign a managed identity access to an Azure resource or another resource\\\\n-description: Step-by-step instructions for assigning a managed identity access to an Azure resource or another resource.\\\\n-\\\\n-author: SHERMANOUKO\\\\n-manager: CelesteDG\\\\n-\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n-ms.topic: how-to\\\\n-ms.tgt_pltfrm: na\\\\n-ms.date: 06/03/2024\\\\n-ms.author: shermanouko\\\\n-\\\\n-ms.custom: devx-track-azurepowershell\\\\n-\\\\n-appliesto: \\\\n-zone_pivot_groups: identity-mi-azure-resource\\\\n----\\\\n-\\\\n-# Grant a managed identity access to an Azure resource or another resource\\\\n-\\\\n-This article shows you how to give an Azure virtual machine (VM) managed identity access to an Azure storage account. Once you've configured an Azure resource with a managed identity, you can then give the managed identity access to another resource, similar to any security principal.\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- Be sure you've enabled managed identity on an Azure resource, such as an [Azure virtual machine](how-to-configure-managed-identities.md) or [Azure virtual machine scale set](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities-scale-sets.md). For more information about managed identity for Azure resources, see [What are managed identities for Azure resources?](~/identity/managed-identities-azure-resources/overview.md). \\\\n-- Review the [difference between a system-assigned and user-assigned managed identity](~/identity/managed-identities-azure-resources/overview.md#managed-identity-types).\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-access-portal\\\\\\\"\\\\n-[!INCLUDE [howto-assign-access-portal](includes/howto-assign-access-portal.md)]\\\\n-::: zone-end\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-access-cli\\\\\\\"\\\\n-[!INCLUDE [howto-assign-access-cli](includes/howto-assign-access-cli.md)]\\\\n-::: zone-end\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-access-powershell\\\\\\\"\\\\n-[!INCLUDE [howto-assign-access-powershell](includes/howto-assign-access-powershell.md)]\\\\n-::: zone-end\\\\n-\\\\n-## Next steps\\\\n-\\\\n-- To enable managed identities on an Azure virtual machine, see [Configure managed identities for Azure resources](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities.md).\\\\n-- To enable managed identities on an Azure virtual machine scale set, see [Configure managed identities for Azure resources on a virtual machine scale set](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities-scale-sets.md).\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"ffb12eaf2a90ed756cf8adf0521be08340c2341a\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/how-to-assign-app-role-managed-identity.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 46,\\r\\n    \\\"changes\\\": 46,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-app-role-managed-identity.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-app-role-managed-identity.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-assign-app-role-managed-identity.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,46 +0,0 @@\\\\n----\\\\n-title: Assign a managed identity to an application role\\\\n-description: Step-by-step instructions for assigning a managed identity access to another application's role.\\\\n-\\\\n-author: SHERMANOUKO\\\\n-manager: CelesteDG\\\\n-\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n-ms.topic: how-to\\\\n-ms.tgt_pltfrm: na\\\\n-ms.date: 03/14/2025\\\\n-ms.author: shermanouko\\\\n-ms.custom: has-azure-ad-ps-ref, devx-track-azurepowershell, devx-track-azurecli\\\\n-\\\\n-appliesto:\\\\n-zone_pivot_groups: identity-mi-app-role\\\\n----\\\\n-\\\\n-# Assign an application role to a managed identity\\\\n-\\\\n-Managed identities for Azure resources provide Azure services with an identity in Microsoft Entra ID. They work without needing credentials in your code. Azure services use this identity to authenticate to services that support Microsoft Entra authentication. Application roles provide a form of role-based access control, and allow a service to implement authorization rules.\\\\n-\\\\n-> [!NOTE]\\\\n-> The tokens your application receives are cached by the underlying infrastructure. This means that any changes to the managed identity's roles can take significant time to process. For more information, see [Limitation of using managed identities for authorization](managed-identity-best-practice-recommendations.md#limitation-of-using-managed-identities-for-authorization).\\\\n-\\\\n-In this article, you'll learn how to assign a managed identity to an application role exposed by another application using the [Microsoft Graph PowerShell SDK](/powershell/microsoftgraph/overview) or [Azure CLI](/cli/azure/what-is-azure-cli).\\\\n-\\\\n-## Prerequisites\\\\n-\\\\n-- If you're unfamiliar with managed identities for Azure resources, see [Managed identity for Azure resources overview](~/identity/managed-identities-azure-resources/overview.md). \\\\n-- Review the [difference between a system-assigned and user-assigned managed identity](/azure/logic-apps/authenticate-with-managed-identity).\\\\n-- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before continuing.\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-app-role-powershell\\\\\\\"\\\\n-[!INCLUDE [how-to-assign-app-role-managed-identity-powershell](includes/how-to-assign-app-role-managed-identity-powershell.md)]\\\\n-::: zone-end\\\\n-\\\\n-::: zone pivot=\\\\\\\"identity-mi-app-role-cli\\\\\\\"\\\\n-[!INCLUDE [how-to-assign-app-role-managed-identity-cli](includes/how-to-assign-app-role-managed-identity-cli.md)]\\\\n-::: zone-end\\\\n-\\\\n-## Next steps\\\\n-\\\\n-- [Managed identity for Azure resources overview](~/identity/managed-identities-azure-resources/overview.md)\\\\n-- To enable managed identity on an Azure VM, see [Configure managed identities for Azure resources on an Azure VM](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities.md).\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"828e60abe46732e0078b84d0d21a5bfc5d90c3e6\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/assign-app-role-to-managed-identity-intro.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 15,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 15,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fassign-app-role-to-managed-identity-intro.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fassign-app-role-to-managed-identity-intro.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fassign-app-role-to-managed-identity-intro.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,15 @@\\\\n+---\\\\n+author: SHERMANOUKO\\\\n+ms.author: shermanouko\\\\n+ms.date: 09/09/2025\\\\n+ms.topic: include\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+---\\\\n+\\\\n+Managed identities for Azure resources provide Azure services with an identity in Microsoft Entra ID. They work without needing credentials in your code. Azure services use this identity to authenticate to services that support Microsoft Entra authentication. Application roles provide a form of role-based access control, and allow a service to implement authorization rules.\\\\n+\\\\n+> [!NOTE]\\\\n+> The tokens your application receives are cached by the underlying infrastructure. This means that any changes to the managed identity's roles can take significant time to process. For more information, see [Limitation of using managed identities for authorization](../managed-identity-best-practice-recommendations.md#limitation-of-using-managed-identities-for-authorization).\\\\n+\\\\n+In this article, you'll learn how to assign a managed identity to an application role exposed by another application using the [Microsoft Graph PowerShell SDK](/powershell/microsoftgraph/overview) or [Azure CLI](/cli/azure/what-is-azure-cli).\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"80b8327f90f2ed4b8dc1a2cf967bc6d1f3826062\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/how-to-assign-app-role-managed-identity-cli.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 88,\\r\\n    \\\"changes\\\": 88,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhow-to-assign-app-role-managed-identity-cli.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhow-to-assign-app-role-managed-identity-cli.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhow-to-assign-app-role-managed-identity-cli.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,88 +0,0 @@\\\\n----\\\\n-author: SHERMANOUKO\\\\n-ms.author: shermanouko\\\\n-ms.date: 03/14/2025\\\\n-ms.topic: include\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n-ms.custom:\\\\n-  - devx-track-azurecli\\\\n----\\\\n-\\\\n-## Assign a managed identity access to another application's app role using CLI\\\\n-\\\\n-[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n-\\\\n-1. Enable managed identity on an Azure resource, [such as an Azure virtual machines](~/identity/managed-identities-azure-resources/how-to-configure-managed-identities.md).\\\\n-\\\\n-1. Find the object ID of the managed identity's service principal.\\\\n-\\\\n-   - **For a system-assigned managed identity**, you can find the object ID on the Azure portal on the resource's **Identity** page. \\\\n-   - You can also use the following script to find the object ID. You'll need the resource ID of the resource you created in the previous step, which is available in the Azure portal on the resource's **Properties** page.\\\\n-\\\\n-    ```azurecli\\\\n-    resourceIdWithManagedIdentity=\\\\\\\"/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.Compute/virtualMachines/{my virtual machine name}\\\\\\\"\\\\n-    \\\\n-    oidForMI=$(az resource show --ids $resourceIdWithManagedIdentity --query \\\\\\\"identity.principalId\\\\\\\" -o tsv | tr -d '[:space:]')\\\\n-    echo \\\\\\\"object id for managed identity is: $oidForMI\\\\\\\"\\\\n-    ```\\\\n-\\\\n-    - **For a user-assigned managed identity**, you can find the managed identity's object ID on the Azure portal on the resource's **Overview** page. You can also use the following script to find the object ID. You'll need the resource ID of the user-assigned managed identity.\\\\n-\\\\n-    ```azurecli\\\\n-    userManagedIdentityResourceId=\\\\\\\"/subscriptions/{my subscription ID}/resourceGroups/{my resource group name}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{my managed identity name}\\\\\\\"\\\\n-    \\\\n-    oidForMI=$(az resource show --id $userManagedIdentityResourceId --query \\\\\\\"properties.principalId\\\\\\\" -o tsv | tr -d '[:space:]')\\\\n-    echo \\\\\\\"object id for managed identity is: $oidForMI\\\\\\\"\\\\n-    ```\\\\n-\\\\n-1. [Create a new application registration](/entra/identity-platform/quickstart-register-app) to represent the service that your managed identity sends a request to.\\\\n-   -  If the API or service that exposes the app role grant to the managed identity already has a service principal in your Microsoft Entra tenant, skip this step.\\\\n-\\\\n-1. Find the object ID of the service application's service principal. You can find this using the [Microsoft Entra admin center](https://entra.microsoft.com/). \\\\n-   - Sign in to the [Microsoft Entra admin center](https://entra.microsoft.com/). In the left nav blade, select **Entra ID** > **Enterprise apps**. Then find the application and look for the **Object ID**.  \\\\n-   - You can also find the service principal's object ID by its display name using the following script:\\\\n-\\\\n-    ```azurecli\\\\n-    appName=\\\\\\\"{name for your application}\\\\\\\"\\\\n-    serverSPOID=$(az ad sp list --filter \\\\\\\"displayName eq '$appName'\\\\\\\" --query '[0].id' -o tsv | tr -d '[:space:]')\\\\n-    echo \\\\\\\"object id for server service principal is: $serverSPOID\\\\\\\"\\\\n-    ```\\\\n-\\\\n-    > [!NOTE]\\\\n-    > Display names for applications are not unique, so you should verify that you obtain the correct application's service principal.\\\\n-\\\\n-    Or you can find the Object ID by the unique Application ID for your application registration:\\\\n-\\\\n-    ```azurecli\\\\n-    appID=\\\\\\\"{application id for your application}\\\\\\\"\\\\n-    serverSPOID=$(az ad sp list --filter \\\\\\\"appId eq '$appID'\\\\\\\" --query '[0].id' -o tsv | tr -d '[:space:]')\\\\n-    echo \\\\\\\"object id for server service principal is: $serverSPOID\\\\\\\"\\\\n-    ```\\\\n-\\\\n-1. Add an [app role](~/identity-platform/howto-add-app-roles-in-apps.md) to the application you created in the previous step. You can create the role using the Azure portal or using Microsoft Graph. For example, you could add an app role like this:\\\\n-\\\\n-    ```json\\\\n-    {\\\\n-        \\\\\\\"allowedMemberTypes\\\\\\\": [\\\\n-            \\\\\\\"Application\\\\\\\"\\\\n-        ],\\\\n-        \\\\\\\"displayName\\\\\\\": \\\\\\\"Read data from MyApi\\\\\\\",\\\\n-        \\\\\\\"id\\\\\\\": \\\\\\\"00001111-aaaa-2222-bbbb-3333cccc4444\\\\\\\",\\\\n-        \\\\\\\"isEnabled\\\\\\\": true,\\\\n-        \\\\\\\"description\\\\\\\": \\\\\\\"Allow the application to read data as itself.\\\\\\\",\\\\n-        \\\\\\\"value\\\\\\\": \\\\\\\"MyApi.Read.All\\\\\\\"\\\\n-    }\\\\n-    ```\\\\n-\\\\n-1. Assign the app role to the managed identity. You'll need the following information to assign the app role:\\\\n-    * `managedIdentityObjectId`: the object ID of the managed identity's service principal, which you found in step 2.\\\\n-    * `serverServicePrincipalObjectId`: the object ID of the server application's service principal, which you found in step 4.\\\\n-    * `appRoleId`: the ID of the app role exposed by the server app, which you generated in step 5 - in the example, the app role ID is `00000000-0000-0000-0000-000000000000`.\\\\n-   \\\\n-1. Execute the following script to add the role assignment. This functionality isn't directly exposed on the Azure CLI and that a REST command is used here instead:\\\\n-\\\\n-    ```azurecli\\\\n-    roleguid=\\\\\\\"00000000-0000-0000-0000-000000000000\\\\\\\"\\\\n-    az rest -m POST -u https://graph.microsoft.com/v1.0/servicePrincipals/$oidForMI/appRoleAssignments -b \\\\\\\"{\\\\\\\\\\\\\\\"principalId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$oidForMI\\\\\\\\\\\\\\\", \\\\\\\\\\\\\\\"resourceId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$serverSPOID\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"appRoleId\\\\\\\\\\\\\\\": \\\\\\\\\\\\\\\"$roleguid\\\\\\\\\\\\\\\"}\\\\\\\"\\\\n-    ```\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"6cbccfccfda3702c89be303f096564f7302b6629\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/howto-assign-access-cli.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 29,\\r\\n    \\\"changes\\\": 29,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-cli.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-cli.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-cli.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,29 +0,0 @@\\\\n---- \\\\n-author: SHERMANOUKO \\\\n-ms.author: shermanouko\\\\n-ms.date: 06/03/2024 \\\\n-ms.topic: include\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n----\\\\n-\\\\n-## Use Azure RBAC to assign a managed identity access to another resource using CLI\\\\n-\\\\n-[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n-\\\\n-1. In this example, you give an Azure virtual machine (VM) managed access to a storage account. First use [az resource list](/cli/azure/resource#az-resource-list) to get the service principal for a VM named myVM:\\\\n-\\\\n-   ```azurecli-interactive\\\\n-   spID=$(az resource list -n myVM --query [*].identity.principalId --out tsv)\\\\n-   ```\\\\n-   For an Azure Virtual Machine (VM) scale set, the command is the same except here you get the service principal for the VM set named \\\\\\\"DevTestVMSS\\\\\\\":\\\\n-   \\\\n-   ```azurecli-interactive\\\\n-   spID=$(az resource list -n DevTestVMSS --query [*].identity.principalId --out tsv)\\\\n-   ```\\\\n-\\\\n-1. Once you have the service principal ID, use [az role assignment create](/cli/azure/role/assignment#az-role-assignment-create) to give the virtual machine or virtual machine scale set **Reader** access to a storage account called \\\\\\\"myStorageAcct\\\\\\\":\\\\n-\\\\n-   ```azurecli-interactive\\\\n-   az role assignment create --assignee $spID --role 'Reader' --scope /subscriptions/<mySubscriptionID>/resourceGroups/<myResourceGroup>/providers/Microsoft.Storage/storageAccounts/myStorageAcct\\\\n-   ```\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"7840836efe45faff9481fba9b8008623287b39ae\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/howto-assign-access-portal.md\\\",\\r\\n    \\\"status\\\": \\\"removed\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 26,\\r\\n    \\\"changes\\\": 26,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-portal.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/bee421885891103366f659710f9773580b4f656d/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-portal.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fhowto-assign-access-portal.md?ref=bee421885891103366f659710f9773580b4f656d\\\",\\r\\n    \\\"patch\\\": \\\"@@ -1,26 +0,0 @@\\\\n---- \\\\n-author: SHERMANOUKO \\\\n-ms.author: shermanouko\\\\n-ms.date: 06/03/2024 \\\\n-ms.topic: include\\\\n-ms.service: entra-id\\\\n-ms.subservice: managed-identities\\\\n----\\\\n-\\\\n-## Use Azure RBAC to assign a managed identity access to another resource using the Azure portal\\\\n-\\\\n-\\\\n->[!IMPORTANT]\\\\n-> The steps outlined below show is how you grant access to a service using Azure RBAC. Check specific service documentation on how to grant access; for example, check [Azure Data Explorer](/azure/data-explorer/data-explorer-overview) for instructions. Some Azure services are in the process of adopting Azure RBAC on the data plane.\\\\n-\\\\n-1. Sign in to the [Azure portal](https://portal.azure.com) using an account associated with the Azure subscription for which you've configured the managed identity.\\\\n-\\\\n-2. Navigate to the desired resource that you want to modify access control. In this example, you'll give an Azure virtual machine (VM) access to a storage account, then you can navigate to the storage account.\\\\n-\\\\n-1. Select **Access control (IAM)**.\\\\n-\\\\n-1. Select **Add** > **Add role assignment** to open the **Add role assignment** page.\\\\n-\\\\n-1. Select the role and managed identity. For detailed steps, see [Assign Azure roles using the Azure portal](/azure/role-based-access-control/role-assignments-portal).\\\\n-\\\\n-    :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"../../../media/common/add-role-assignment-page.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the page for adding a role assignment.\\\\\\\":::\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"0ee16103e5338412f7fe3feed0433f6a19d9414e\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/includes/manage-user-assigned-identity-intro.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 12,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 12,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fmanage-user-assigned-identity-intro.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fmanage-user-assigned-identity-intro.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fincludes%2Fmanage-user-assigned-identity-intro.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,12 @@\\\\n+---\\\\n+author: SHERMANOUKO\\\\n+ms.author: shermanouko\\\\n+ms.date: 09/09/2025\\\\n+ms.topic: include\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+---\\\\n+\\\\n+Managed identities for Azure resources eliminate the need to manage credentials in code. You can use them to get a Microsoft Entra token for your applications. The applications can use the token when accessing resources that support Microsoft Entra authentication. Azure manages the identity so you don't have to.\\\\n+\\\\n+There are two types of managed identities: system-assigned and user-assigned. System-assigned managed identities have their lifecycle tied to the resource that created them. This identity is restricted to only one resource, and you can grant permissions to the managed identity by using Azure role-based access control (RBAC). User-assigned managed identities can be used on multiple resources.\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"a24456d48ac7a20a20d03eddd04b4b96ed7a40b3\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-cli.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 79,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 79,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-cli.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-cli.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-cli.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,79 @@\\\\n+---\\\\n+title: Manage user-assigned managed identities using the Azure CLI\\\\n+description: Manage user-assigned managed identities using the Azure CLI.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Manage user-assigned managed identities using the Azure CLI\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/manage-user-assigned-identity-intro.md)]\\\\n+\\\\n+In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using the Azure CLI.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types).\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n+\\\\n+## Prepare your environment\\\\n+\\\\n+[!INCLUDE [azure-cli-prepare-your-environment-no-header.md](~/../docs/reusable-content/azure-cli/azure-cli-prepare-your-environment-no-header.md)]\\\\n+\\\\n+To modify user permissions when you use an app service principal by using the CLI, you must provide the service principal more permissions in the Azure Active Directory Graph API because portions of the CLI perform GET requests against the Graph API. Otherwise, you might end up receiving an \\\\\\\"Insufficient privileges to complete the operation\\\\\\\" message. \\\\n+\\\\n+To do this step, \\\\n+\\\\n+1. Go into the **App registration** in Microsoft Entra ID, select your app, select **API permissions**, and scroll down and select **Azure Active Directory Graph**.\\\\n+1. Select **Application permissions**, and then add the appropriate permissions.\\\\n+\\\\n+## Create a user-assigned managed identity\\\\n+\\\\n+To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+1. Use the `az identity create` command to create a user-assigned managed identity. The `-g` parameter specifies the resource group where to create the user-assigned managed identity. The `-n` parameter specifies its name.\\\\n+1. Replace the `<RESOURCE GROUP>` and `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n+\\\\n+    [!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n+\\\\n+    ```azurecli-interactive\\\\n+    az identity create -g <RESOURCE GROUP> -n <USER ASSIGNED IDENTITY NAME>\\\\n+    ```\\\\n+\\\\n+## List user-assigned managed identities\\\\n+\\\\n+To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+To list user-assigned managed identities, use the `az identity list` command. Replace the `<RESOURCE GROUP>` value with your own value.\\\\n+\\\\n+```azurecli-interactive\\\\n+az identity list -g <RESOURCE GROUP>\\\\n+```\\\\n+\\\\n+In the JSON response, user-assigned managed identities have the `\\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"` value returned for the key `type`.\\\\n+\\\\n+`\\\\\\\"type\\\\\\\": \\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"`\\\\n+\\\\n+## Delete a user-assigned managed identity\\\\n+\\\\n+To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+To delete a user-assigned managed identity, \\\\n+\\\\n+1. use the `az identity delete` command. The `-n` parameter specifies its name. The `-g` parameter specifies the resource group where the user-assigned managed identity was created.\\\\n+1. Replace the `<USER ASSIGNED IDENTITY NAME>` and `<RESOURCE GROUP>` parameter values with your own values.\\\\n+\\\\n+    ```azurecli-interactive\\\\n+    az identity delete -n <USER ASSIGNED IDENTITY NAME> -g <RESOURCE GROUP>\\\\n+    ```\\\\n+\\\\n+    Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to. Remove those from the resource itself. For example, for a VM or virtual machine scale set, use the `az vm/vmss identity remove` command.\\\\n+\\\\n+## Related content\\\\n+\\\\n+For a full list of Azure CLI identity commands, see [az identity](/cli/azure/identity).\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"7b0ebcfbc1d897d8d57ffaff4dca01a03e0d72dd\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-portal.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 82,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 82,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-portal.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-portal.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-portal.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,82 @@\\\\n+---\\\\n+title: Manage user-assigned managed identities using the Azure portal\\\\n+description: Manage user-assigned managed identities using the Azure portal.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Manage user-assigned managed identities using the Azure portal\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/manage-user-assigned-identity-intro.md)]\\\\n+\\\\n+In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using the Azure portal.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types).\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n+\\\\n+## Create a user-assigned managed identity\\\\n+\\\\n+To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n+1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n+1. Select **Add**, and enter values in the following boxes in the **Create User Assigned Managed Identity** pane:\\\\n+    - **Subscription**: Choose the subscription to create the user-assigned managed identity under.\\\\n+    - **Resource group**: Choose a resource group to create the user-assigned managed identity in, or select **Create new** to create a new resource group.\\\\n+    - **Region**: Choose a region to deploy the user-assigned managed identity, for example, **West US**.\\\\n+    - **Name**: Enter the name for your user-assigned managed identity, for example, UAI1.\\\\n+\\\\n+   [!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n+\\\\n+   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/create-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the Create User Assigned Managed Identity pane.\\\\\\\":::\\\\n+\\\\n+1. Select **Review + create** to review the changes.\\\\n+1. Select **Create**.\\\\n+\\\\n+## List user-assigned managed identities\\\\n+\\\\n+To list or read a user-assigned managed identity, your account needs to have either [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignments.\\\\n+\\\\n+1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n+1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n+1. A list of the user-assigned managed identities for your subscription is returned. To see the details of a user-assigned managed identity, select its name.\\\\n+1. You can now view the details about the managed identity as shown in the image.\\\\n+\\\\n+   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/list-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the list of user-assigned managed identity.\\\\\\\":::\\\\n+\\\\n+## Delete a user-assigned managed identity\\\\n+\\\\n+To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment. Deleting a user-assigned identity doesn't remove it from the resource it was assigned to.\\\\n+\\\\n+1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n+1. Select the user-assigned managed identity, and select **Delete**.\\\\n+1. Under the confirmation box, select **Yes**.\\\\n+\\\\n+\\\\n+   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/delete-user-assigned-managed-identity-portal.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the Delete user-assigned managed identities.\\\\\\\":::\\\\n+\\\\n+## Manage access to user-assigned managed identities\\\\n+\\\\n+In some environments, administrators choose to limit who can manage user-assigned managed identities. Administrators can implement this limitation using [built-in](/azure/role-based-access-control/built-in-roles#identity) RBAC roles. You can use these roles to grant a user or group in your organization rights over a user-assigned managed identity.\\\\n+\\\\n+1. Sign in to the [Azure portal](https://portal.azure.com).\\\\n+1. In the search box, enter **Managed Identities**. Under **Services**, select **Managed Identities**.\\\\n+1. A list of the user-assigned managed identities for your subscription is returned. Select the user-assigned managed identity that you want to manage.\\\\n+1. Select **Access control (IAM)**.\\\\n+1. Choose **Add role assignment**.\\\\n+\\\\n+   :::image type=\\\\\\\"content\\\\\\\" source=\\\\\\\"media/how-manage-user-assigned-managed-identities/role-assign.png\\\\\\\" alt-text=\\\\\\\"Screenshot that shows the user-assigned managed identity access control screen.\\\\\\\":::\\\\n+\\\\n+1. In the **Add role assignment** pane, choose the role to assign and choose **Next**.\\\\n+1. Choose who should have the role assigned.\\\\n+\\\\n+## Related content\\\\n+\\\\n+[Assign a managed identity access to a resource by using the Azure portal](/azure/role-based-access-control/role-assignments-portal-managed-identity)\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"08823bf12d860bc5ae663d7f64d801c82a6af852\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-resource-manager.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 68,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 68,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-resource-manager.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-resource-manager.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-azure-resource-manager.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,68 @@\\\\n+---\\\\n+title: Manage user-assigned managed identities using Azure Resource Manager\\\\n+description: Manage user-assigned managed identities using Azure Resource Manager.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Manage user-assigned managed identities using Azure Resource Manager\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/manage-user-assigned-identity-intro.md)]\\\\n+\\\\n+In this article, you create a user-assigned managed identity by using Azure Resource Manager. You can't list and delete a user-assigned managed identity by using a Resource Manager template. Use the other methods to list or delete a user-assigned managed identity.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n+\\\\n+## Template creation and editing\\\\n+\\\\n+Resource Manager templates help you deploy new or modified resources defined by an Azure resource group. Several options are available for template editing and deployment, both local and portal-based. You can:\\\\n+\\\\n+- Use a [custom template from Azure Marketplace](/azure/azure-resource-manager/templates/deploy-portal#deploy-resources-from-custom-template) to create a template from scratch or base it on an existing common or [quickstart template](https://azure.microsoft.com/resources/templates/).\\\\n+- Derive from an existing resource group by exporting a template. You can export them from either [the original deployment](/azure/azure-resource-manager/management/manage-resource-groups-portal#export-resource-groups-to-templates) or from the [current state of the deployment](/azure/azure-resource-manager/management/manage-resource-groups-portal#export-resource-groups-to-templates).\\\\n+- Use a local [JSON editor (such as VS Code)](/azure/azure-resource-manager/templates/quickstart-create-templates-use-the-portal), and then upload and deploy by using PowerShell or the Azure CLI.\\\\n+- Use the Visual Studio [Azure Resource Group project](/azure/azure-resource-manager/templates/create-visual-studio-deployment-project) to create and deploy a template.\\\\n+\\\\n+## Create a user-assigned managed identity\\\\n+\\\\n+To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+To create a user-assigned managed identity, use the following template. Replace the `<USER ASSIGNED IDENTITY NAME>` value with your own values.\\\\n+\\\\n+[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n+\\\\n+```json\\\\n+{\\\\n+  \\\\\\\"$schema\\\\\\\": \\\\\\\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\\\\\\\",\\\\n+  \\\\\\\"contentVersion\\\\\\\": \\\\\\\"1.0.0.0\\\\\\\",\\\\n+  \\\\\\\"parameters\\\\\\\": {\\\\n+    \\\\\\\"resourceName\\\\\\\": {\\\\n+          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n+          \\\\\\\"metadata\\\\\\\": {\\\\n+            \\\\\\\"description\\\\\\\": \\\\\\\"<USER ASSIGNED IDENTITY NAME>\\\\\\\"\\\\n+          }\\\\n+        }\\\\n+  },\\\\n+  \\\\\\\"resources\\\\\\\": [\\\\n+    {\\\\n+      \\\\\\\"type\\\\\\\": \\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\",\\\\n+      \\\\\\\"name\\\\\\\": \\\\\\\"[parameters('resourceName')]\\\\\\\",\\\\n+      \\\\\\\"apiVersion\\\\\\\": \\\\\\\"2018-11-30\\\\\\\",\\\\n+      \\\\\\\"location\\\\\\\": \\\\\\\"[resourceGroup().location]\\\\\\\"\\\\n+    }\\\\n+  ],\\\\n+  \\\\\\\"outputs\\\\\\\": {\\\\n+      \\\\\\\"identityName\\\\\\\": {\\\\n+          \\\\\\\"type\\\\\\\": \\\\\\\"string\\\\\\\",\\\\n+          \\\\\\\"value\\\\\\\": \\\\\\\"[parameters('resourceName')]\\\\\\\"\\\\n+      }\\\\n+  }\\\\n+}\\\\n+```\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"c94ba65b43110585a132d7c973c9340cc4cfb05e\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-powershell.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 96,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 96,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-powershell.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-powershell.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-powershell.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,96 @@\\\\n+---\\\\n+title: Manage user-assigned managed identities using PowerShell\\\\n+description: Manage user-assigned managed identities using PowerShell.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Manage user-assigned managed identities using PowerShell\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/manage-user-assigned-identity-intro.md)]\\\\n+\\\\n+In this article, you learn how to create, list, delete, or assign a role to a user-assigned managed identity by using PowerShell. We use Azure Virtual Machine (AzureVM) as an example resource to which you can assign a user-assigned managed identity.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n+- To run the example scripts, you have two options:\\\\n+    - Use [Azure Cloud Shell](/azure/cloud-shell/overview), which you can open by using the **Try It** button in the upper-right corner of code blocks.\\\\n+    - Run scripts locally with Azure PowerShell, as described in the next section.\\\\n+\\\\n+### Configure Azure PowerShell locally\\\\n+\\\\n+To use Azure PowerShell locally for this article instead of using Cloud Shell:\\\\n+\\\\n+1. Install [the latest version of Azure PowerShell](/powershell/azure/install-azure-powershell) if you haven't already.\\\\n+\\\\n+1. Sign in to Azure.\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    Connect-AzAccount\\\\n+    ```\\\\n+\\\\n+1. Install the [latest version of PowerShellGet](/powershell/gallery/powershellget/install-powershellget).\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    Install-Module -Name PowerShellGet -AllowPrerelease\\\\n+    ```\\\\n+\\\\n+    You might need to `Exit` out of the current PowerShell session after you run this command for the next step.\\\\n+\\\\n+1. Install the prerelease version of the `Az.ManagedServiceIdentity` module to perform the user-assigned managed identity operations in this article.\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    Install-Module -Name Az.ManagedServiceIdentity -AllowPrerelease\\\\n+    ```\\\\n+\\\\n+## Create a user-assigned managed identity\\\\n+\\\\n+To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+1. To create a user-assigned managed identity, use the `New-AzUserAssignedIdentity` command. The `ResourceGroupName` parameter specifies the resource group where to create the user-assigned managed identity. The `-Name` parameter specifies its name.\\\\n+1. Replace the `<RESOURCE GROUP>` and `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n+\\\\n+    [!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    New-AzUserAssignedIdentity -ResourceGroupName <RESOURCEGROUP> -Name <USER ASSIGNED IDENTITY NAME>\\\\n+    ```\\\\n+\\\\n+## List user-assigned managed identities\\\\n+\\\\n+To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+1. To list user-assigned managed identities, use the `Get-AzUserAssignedIdentity` command. The `-ResourceGroupName` parameter specifies the resource group where the user-assigned managed identity was created.\\\\n+1. Replace the `<RESOURCE GROUP>` value with your own value.\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    Get-AzUserAssignedIdentity -ResourceGroupName <RESOURCE GROUP>\\\\n+    ```\\\\n+\\\\n+    In the response, user-assigned managed identities have the `\\\\\\\"Microsoft.ManagedIdentity/userAssignedIdentities\\\\\\\"` value returned for the key `Type`.\\\\n+\\\\n+    `Type :Microsoft.ManagedIdentity/userAssignedIdentities`\\\\n+\\\\n+## Delete a user-assigned managed identity\\\\n+\\\\n+To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+1. To delete a user-assigned managed identity, use the `Remove-AzUserAssignedIdentity` command. The `-ResourceGroupName` parameter specifies the resource group where the user-assigned identity was created. The `-Name` parameter specifies its name.\\\\n+1. Replace the `<RESOURCE GROUP>` and the `<USER ASSIGNED IDENTITY NAME>` parameter values with your own values.\\\\n+\\\\n+    ```azurepowershell-interactive\\\\n+    Remove-AzUserAssignedIdentity -ResourceGroupName <RESOURCE GROUP> -Name <USER ASSIGNED IDENTITY NAME>\\\\n+    ```\\\\n+\\\\n+    Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to. Identity assignments must be removed separately.\\\\n+\\\\n+## Next steps\\\\n+\\\\n+For a full list and more details of the Azure PowerShell managed identities for Azure resources commands, see [Az.ManagedServiceIdentity](/powershell/module/az.managedserviceidentity/#managed_service_identity).\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"0fb341fb004a35d32593f5843bc4ae887926ba47\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-rest.md\\\",\\r\\n    \\\"status\\\": \\\"added\\\",\\r\\n    \\\"additions\\\": 105,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 105,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-rest.md\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-rest.md\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fmanage-user-assigned-managed-identities-rest.md?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\",\\r\\n    \\\"patch\\\": \\\"@@ -0,0 +1,105 @@\\\\n+---\\\\n+title: Manage user-assigned managed identities using REST\\\\n+description: Manage user-assigned managed identities using REST.\\\\n+author: SHERMANOUKO\\\\n+manager: CelesteDG\\\\n+ms.service: entra-id\\\\n+ms.subservice: managed-identities\\\\n+ms.topic: how-to\\\\n+ms.date: 09/09/2025\\\\n+ms.author: shermanouko\\\\n+---\\\\n+\\\\n+# Manage user-assigned managed identities using REST\\\\n+\\\\n+[!INCLUDE [introduction-section](./includes/manage-user-assigned-identity-intro.md)]\\\\n+\\\\n+In this article, you learn how to create, list, and delete a user-assigned managed identity by using REST.\\\\n+\\\\n+## Prerequisites\\\\n+\\\\n+- If you're unfamiliar with managed identities for Azure resources, check out the [overview section](overview.md). *Be sure to review the [difference between a system-assigned and user-assigned managed identity](overview.md#managed-identity-types)*.\\\\n+- If you don't already have an Azure account, [sign up for a free account](https://azure.microsoft.com/free/) before you continue.\\\\n+- You can run all the commands in this article either in the cloud or locally:\\\\n+    - To run in the cloud, use [Azure Cloud Shell](/azure/cloud-shell/overview).\\\\n+    - To run locally, install [curl](https://curl.se/download.html) and the [Azure CLI](/cli/azure/install-azure-cli).\\\\n+\\\\n+## Obtain a bearer access token\\\\n+\\\\n+1. If you're running locally, sign in to Azure through the Azure CLI.\\\\n+\\\\n+    ```azurecli-interactive\\\\n+    az login\\\\n+    ```\\\\n+\\\\n+1. Obtain an access token by using [az account get-access-token](/cli/azure/account#az-account-get-access-token).\\\\n+\\\\n+    ```azurecli-interactive\\\\n+    az account get-access-token\\\\n+    ```\\\\n+\\\\n+## Create a user-assigned managed identity\\\\n+\\\\n+To create a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+[!INCLUDE [ua-character-limit](~/includes/managed-identity-ua-character-limits.md)]\\\\n+\\\\n+```bash\\\\n+curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n+s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview' -X PUT -d '{\\\\\\\"location\\\\\\\": \\\\\\\"<LOCATION>\\\\\\\"}' -H \\\\\\\"Content-Type: application/json\\\\\\\" -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n+```\\\\n+\\\\n+```HTTP\\\\n+PUT https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n+s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview HTTP/1.1\\\\n+```\\\\n+\\\\n+**Request headers**\\\\n+\\\\n+|Request header  |Description  |\\\\n+|---------|---------|\\\\n+|*Content-Type*     | Required. Set to `application/json`.        |\\\\n+|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\\n+\\\\n+**Request body**\\\\n+\\\\n+|Name  |Description  |\\\\n+|---------|---------|\\\\n+|Location     | Required. Resource location.        |\\\\n+\\\\n+## List user-assigned managed identities\\\\n+\\\\n+To list or read a user-assigned managed identity, your account needs the [Managed Identity Operator](/azure/role-based-access-control/built-in-roles#managed-identity-operator) or [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+```bash\\\\n+curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroups/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities?api-version=2015-08-31-preview' -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n+```\\\\n+\\\\n+```HTTP\\\\n+GET https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroups/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities?api-version=2015-08-31-preview HTTP/1.1\\\\n+```\\\\n+\\\\n+|Request header  |Description  |\\\\n+|---------|---------|\\\\n+|*Content-Type*     | Required. Set to `application/json`.        |\\\\n+|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\\n+\\\\n+## Delete a user-assigned managed identity\\\\n+\\\\n+To delete a user-assigned managed identity, your account needs the [Managed Identity Contributor](/azure/role-based-access-control/built-in-roles#managed-identity-contributor) role assignment.\\\\n+\\\\n+Deleting a user-assigned managed identity won't remove the reference from any resource it was assigned to.\\\\n+\\\\n+```bash\\\\n+curl 'https://management.azure.com/subscriptions/<SUBSCRIPTION ID>/resourceGroup\\\\n+s/<RESOURCE GROUP>/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview' -X DELETE -H \\\\\\\"Authorization: Bearer <ACCESS TOKEN>\\\\\\\"\\\\n+```\\\\n+\\\\n+```HTTP\\\\n+DELETE https://management.azure.com/subscriptions/aaaa0a0a-bb1b-cc2c-dd3d-eeeeee4e4e4e/resourceGroups/TestRG/providers/Microsoft.ManagedIdentity/userAssignedIdentities/<USER ASSIGNED IDENTITY NAME>?api-version=2015-08-31-preview HTTP/1.1\\\\n+```\\\\n+\\\\n+|Request header  |Description  |\\\\n+|---------|---------|\\\\n+|*Content-Type*     | Required. Set to `application/json`.        |\\\\n+|*Authorization*     | Required. Set to a valid `Bearer` access token.        |\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"165ecf79c17899b7306d7b5f9372382396430809\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/monitoring-health/media/howto-use-sign-in-diagnostics/diagnose-solve-problems-left-nav.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmonitoring-health%2Fmedia%2Fhowto-use-sign-in-diagnostics%2Fdiagnose-solve-problems-left-nav.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fmonitoring-health%2Fmedia%2Fhowto-use-sign-in-diagnostics%2Fdiagnose-solve-problems-left-nav.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmonitoring-health%2Fmedia%2Fhowto-use-sign-in-diagnostics%2Fdiagnose-solve-problems-left-nav.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"9a18e3871ac3246e0118a4517c59ec25204dd7e5\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/role-based-access-control/media/custom-available-permissions/new-custom-role.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fcustom-available-permissions%2Fnew-custom-role.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fcustom-available-permissions%2Fnew-custom-role.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fcustom-available-permissions%2Fnew-custom-role.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"9a18e3871ac3246e0118a4517c59ec25204dd7e5\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/role-based-access-control/media/quickstart-app-registration-limits/new-custom-role.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fquickstart-app-registration-limits%2Fnew-custom-role.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fquickstart-app-registration-limits%2Fnew-custom-role.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Frole-based-access-control%2Fmedia%2Fquickstart-app-registration-limits%2Fnew-custom-role.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"286b566f92baba8531820f6e7bb2a4550ea84a62\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/saas-apps/media/muzeek-tutorial/home.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fsaas-apps%2Fmedia%2Fmuzeek-tutorial%2Fhome.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fsaas-apps%2Fmedia%2Fmuzeek-tutorial%2Fhome.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fsaas-apps%2Fmedia%2Fmuzeek-tutorial%2Fhome.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"0b55efa6f9dcba2c9885b4740db3c6b7d14fefff\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/users/media/groups-bulk-download/download-groups.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-bulk-download%2Fdownload-groups.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-bulk-download%2Fdownload-groups.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-bulk-download%2Fdownload-groups.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"574ea8cf4a531a9a8de4b24c8ff3a2d03378bf02\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/users/media/groups-restore-deleted/deleted-groups3.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-restore-deleted%2Fdeleted-groups3.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-restore-deleted%2Fdeleted-groups3.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fusers%2Fmedia%2Fgroups-restore-deleted%2Fdeleted-groups3.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  },\\r\\n  {\\r\\n    \\\"sha\\\": \\\"af2f2eb1443be7ee920d9d07b4c8f9f09708ec9e\\\",\\r\\n    \\\"filename\\\": \\\"docs/identity/users/media/linkedin-integration/linkedin-integration.png\\\",\\r\\n    \\\"status\\\": \\\"modified\\\",\\r\\n    \\\"additions\\\": 0,\\r\\n    \\\"deletions\\\": 0,\\r\\n    \\\"changes\\\": 0,\\r\\n    \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Flinkedin-integration%2Flinkedin-integration.png\\\",\\r\\n    \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/30c9a1e08fbd20dde74d074fad16494aac9f7461/docs%2Fidentity%2Fusers%2Fmedia%2Flinkedin-integration%2Flinkedin-integration.png\\\",\\r\\n    \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fusers%2Fmedia%2Flinkedin-integration%2Flinkedin-integration.png?ref=30c9a1e08fbd20dde74d074fad16494aac9f7461\\\"\\r\\n  }\\r\\n]. Please summarise it in a few sentences, using UK grammar and ensure the response is formatted for markdown. Do not start the response with here is summary.\",\"role\":\"user\"}",
    "Response": "This commit primarily restructures and reframes documentation related to managed identities for Azure resources. Several existing files have been removed and replaced with new, more granular articles detailing management via Azure portal, Azure CLI, PowerShell, and Azure Resource Manager. The redirection file has been updated to reflect these changes, ensuring users are directed to the correct, updated content. Additionally, a few new inclusion files have been added to support these new articles.",
    "Model": "google:gemini-2.5-flash-lite",
    "Provider": "google",
    "ModelName": "gemini-2.5-flash-lite",
    "Timestamp": "2025-09-10T19:01:13.2287774+00:00"
  },
  "files": [
    {
      "filename": ".openpublishing.redirection.json",
      "status": "modified",
      "additions": 15,
      "deletions": 0
    },
    {
      "filename": "docs/fundamentals/media/whats-new/entra-whats-new-highlights.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/id-protection/media/howto-export-risk-data/change-diagnostic-setting-in-portal.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity-platform/media/app-objects-and-service-principals/app-registrations-blade.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity-platform/media/quickstart-configure-app-access-web-apis/portal-path-to-my-apis-pane.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/app-provisioning/media/inbound-provisioning-api-configure-app/provisioning-entra-admin-center.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/authentication/media/tutorial-risk-based-sspr-mfa/enable-mfa-registration.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/TOC.yml",
      "status": "modified",
      "additions": 23,
      "deletions": 3
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/assign-app-role-managed-identity-azure-cli.md",
      "status": "added",
      "additions": 105,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/assign-app-role-managed-identity-powershell.md",
      "status": "renamed",
      "additions": 48,
      "deletions": 29
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-azure-cli.md",
      "status": "added",
      "additions": 49,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-azure-portal.md",
      "status": "added",
      "additions": 42,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/grant-managed-identity-resource-access-powershell.md",
      "status": "renamed",
      "additions": 25,
      "deletions": 7
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/how-manage-user-assigned-managed-identities.md",
      "status": "removed",
      "additions": 0,
      "deletions": 403
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/how-to-assign-access-azure-resource.md",
      "status": "removed",
      "additions": 0,
      "deletions": 46
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/how-to-assign-app-role-managed-identity.md",
      "status": "removed",
      "additions": 0,
      "deletions": 46
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/includes/assign-app-role-to-managed-identity-intro.md",
      "status": "added",
      "additions": 15,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/includes/how-to-assign-app-role-managed-identity-cli.md",
      "status": "removed",
      "additions": 0,
      "deletions": 88
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/includes/howto-assign-access-cli.md",
      "status": "removed",
      "additions": 0,
      "deletions": 29
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/includes/howto-assign-access-portal.md",
      "status": "removed",
      "additions": 0,
      "deletions": 26
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/includes/manage-user-assigned-identity-intro.md",
      "status": "added",
      "additions": 12,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-cli.md",
      "status": "added",
      "additions": 79,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-portal.md",
      "status": "added",
      "additions": 82,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-azure-resource-manager.md",
      "status": "added",
      "additions": 68,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-powershell.md",
      "status": "added",
      "additions": 96,
      "deletions": 0
    },
    {
      "filename": "docs/identity/managed-identities-azure-resources/manage-user-assigned-managed-identities-rest.md",
      "status": "added",
      "additions": 105,
      "deletions": 0
    },
    {
      "filename": "docs/identity/monitoring-health/media/howto-use-sign-in-diagnostics/diagnose-solve-problems-left-nav.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/role-based-access-control/media/custom-available-permissions/new-custom-role.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/role-based-access-control/media/quickstart-app-registration-limits/new-custom-role.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/saas-apps/media/muzeek-tutorial/home.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/users/media/groups-bulk-download/download-groups.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/users/media/groups-restore-deleted/deleted-groups3.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    },
    {
      "filename": "docs/identity/users/media/linkedin-integration/linkedin-integration.png",
      "status": "modified",
      "additions": 0,
      "deletions": 0
    }
  ]
}