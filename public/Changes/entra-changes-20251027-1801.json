[
  {
    "sha": "34b362980aedf795540dc32099d16c6232850154",
    "url": "https://github.com/MicrosoftDocs/entra-docs/commit/34b362980aedf795540dc32099d16c6232850154",
    "author": "learn-build-service-prod[bot]",
    "email": "113403604+learn-build-service-prod[bot]@users.noreply.github.com",
    "date": "2025-10-27T17:12:29Z",
    "message": "Merge pull request #10142 from MicrosoftDocs/main\n\nAuto Publish â€“ main to live - 2025-10-27 17:09 UTC",
    "ai_summary": {
      "Messages": "{\"role\":\"user\",\"content\":\"The following is the commit files that have changed: {\\r\\n  \\\"sha\\\": \\\"388007446b08b05267e658fd7473c88261aeaa75\\\",\\r\\n  \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/how-to-use-vm-token.md\\\",\\r\\n  \\\"status\\\": \\\"modified\\\",\\r\\n  \\\"additions\\\": 5,\\r\\n  \\\"deletions\\\": 6,\\r\\n  \\\"changes\\\": 11,\\r\\n  \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/34b362980aedf795540dc32099d16c6232850154/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md\\\",\\r\\n  \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/34b362980aedf795540dc32099d16c6232850154/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md\\\",\\r\\n  \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md?ref=34b362980aedf795540dc32099d16c6232850154\\\",\\r\\n  \\\"patch\\\": \\\"@@ -291,23 +291,22 @@ The following example demonstrates how to use the managed identities for Azure r\\\\n 2. Use the access token to call an Azure Resource Manager REST API and get information about the VM. Be sure to substitute your subscription ID, resource group name, and virtual machine name for `<SUBSCRIPTION-ID>`, `<RESOURCE-GROUP>`, and `<VM-NAME>`, respectively.\\\\n \\\\n ```azurepowershell\\\\n-Invoke-RestMeth -Method GET -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=https%3A%2F%2Fmanagement.azure.com%2F' -Headers @{Metadata=\\\\\\\"true\\\\\\\"}\\\\n+Invoke-RestMethod -Method GET -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=https%3A%2F%2Fmanagement.azure.com%2F' -Headers @{Metadata=\\\\\\\"true\\\\\\\"}\\\\n ```\\\\n \\\\n Example of how to parse the access token from the response:\\\\n ```azurepowershell\\\\n # Get an access token for managed identities for Azure resources\\\\n $resource = 'https://management.azure.com'\\\\n-$response = Invoke-RestMeth -Method GET `\\\\n-                            -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=$resource' `\\\\n+$response = Invoke-RestMethod -Method GET `\\\\n+                            -Uri \\\\\\\"http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=$resource\\\\\\\" `\\\\n                             -Headers @{ Metadata=\\\\\\\"true\\\\\\\" }\\\\n-$content = $response.Content | ConvertFrom-Json\\\\n-$accessToken = $content.access_token\\\\n+$accessToken = $response.access_token\\\\n Write-Host \\\\\\\"Access token using a User-Assigned Managed Identity is $accessToken\\\\\\\"\\\\n \\\\n # Use the access token to get resource information for the VM\\\\n $secureToken = $accessToken | ConvertTo-SecureString -AsPlainText\\\\n-$vmInfoRest = Invoke-RestMeth -Method GET `\\\\n+$vmInfoRest = Invoke-RestMethod -Method GET `\\\\n                               -Uri 'https://management.azure.com/subscriptions/<SUBSCRIPTION-ID>/resourceGroups/<RESOURCE-GROUP>/providers/Microsoft.Compute/virtualMachines/<VM-NAME>?api-version=2017-12-01' `\\\\n                               -ContentType 'application/json' `\\\\n                               -Authentication Bearer `\\\"\\r\\n}. Please summarise it in a few sentences, using UK grammar and ensure the response is formatted for markdown. Do not start the response with here is summary.\"}",
      "Response": "Here is a summary of the changes:\n\nThe commit updates the PowerShell code examples in the `how-to-use-vm-token.md` documentation. Specifically, it corrects a typo in the `Invoke-RestMeth` command to `Invoke-RestMethod` and refines how the access token is parsed from the response, ensuring the correct property is used to retrieve the token.",
      "Model": "google:gemini-2.5-flash-lite",
      "Provider": "google",
      "ModelName": "gemini-2.5-flash-lite",
      "Timestamp": "2025-10-27T18:01:03.9614665+00:00"
    },
    "files": [
      {
        "filename": "docs/identity/managed-identities-azure-resources/how-to-use-vm-token.md",
        "status": "modified",
        "additions": 5,
        "deletions": 6
      }
    ]
  },
  {
    "sha": "e1b57db419f494dd137dd5f93493349974f7d7d2",
    "url": "https://github.com/MicrosoftDocs/entra-docs/commit/e1b57db419f494dd137dd5f93493349974f7d7d2",
    "author": "Taojunshen",
    "email": "v-jutao@microsoft.com",
    "date": "2025-10-27T16:39:53Z",
    "message": "Merge pull request #10140 from MicrosoftDocs/repo_sync_working_branch\n\nConfirm merge from repo_sync_working_branch to main to sync with https://github.com/MicrosoftDocs/entra-docs (branch main)",
    "ai_summary": {
      "Messages": "{\"role\":\"user\",\"content\":\"The following is the commit files that have changed: {\\r\\n  \\\"sha\\\": \\\"388007446b08b05267e658fd7473c88261aeaa75\\\",\\r\\n  \\\"filename\\\": \\\"docs/identity/managed-identities-azure-resources/how-to-use-vm-token.md\\\",\\r\\n  \\\"status\\\": \\\"modified\\\",\\r\\n  \\\"additions\\\": 5,\\r\\n  \\\"deletions\\\": 6,\\r\\n  \\\"changes\\\": 11,\\r\\n  \\\"blob_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/blob/e1b57db419f494dd137dd5f93493349974f7d7d2/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md\\\",\\r\\n  \\\"raw_url\\\": \\\"https://github.com/MicrosoftDocs/entra-docs/raw/e1b57db419f494dd137dd5f93493349974f7d7d2/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md\\\",\\r\\n  \\\"contents_url\\\": \\\"https://api.github.com/repos/MicrosoftDocs/entra-docs/contents/docs%2Fidentity%2Fmanaged-identities-azure-resources%2Fhow-to-use-vm-token.md?ref=e1b57db419f494dd137dd5f93493349974f7d7d2\\\",\\r\\n  \\\"patch\\\": \\\"@@ -291,23 +291,22 @@ The following example demonstrates how to use the managed identities for Azure r\\\\n 2. Use the access token to call an Azure Resource Manager REST API and get information about the VM. Be sure to substitute your subscription ID, resource group name, and virtual machine name for `<SUBSCRIPTION-ID>`, `<RESOURCE-GROUP>`, and `<VM-NAME>`, respectively.\\\\n \\\\n ```azurepowershell\\\\n-Invoke-RestMeth -Method GET -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=https%3A%2F%2Fmanagement.azure.com%2F' -Headers @{Metadata=\\\\\\\"true\\\\\\\"}\\\\n+Invoke-RestMethod -Method GET -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=https%3A%2F%2Fmanagement.azure.com%2F' -Headers @{Metadata=\\\\\\\"true\\\\\\\"}\\\\n ```\\\\n \\\\n Example of how to parse the access token from the response:\\\\n ```azurepowershell\\\\n # Get an access token for managed identities for Azure resources\\\\n $resource = 'https://management.azure.com'\\\\n-$response = Invoke-RestMeth -Method GET `\\\\n-                            -Uri 'http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=$resource' `\\\\n+$response = Invoke-RestMethod -Method GET `\\\\n+                            -Uri \\\\\\\"http://169.254.169.254/metadata/identity/oauth2/token?api-version=2018-02-01&resource=$resource\\\\\\\" `\\\\n                             -Headers @{ Metadata=\\\\\\\"true\\\\\\\" }\\\\n-$content = $response.Content | ConvertFrom-Json\\\\n-$accessToken = $content.access_token\\\\n+$accessToken = $response.access_token\\\\n Write-Host \\\\\\\"Access token using a User-Assigned Managed Identity is $accessToken\\\\\\\"\\\\n \\\\n # Use the access token to get resource information for the VM\\\\n $secureToken = $accessToken | ConvertTo-SecureString -AsPlainText\\\\n-$vmInfoRest = Invoke-RestMeth -Method GET `\\\\n+$vmInfoRest = Invoke-RestMethod -Method GET `\\\\n                               -Uri 'https://management.azure.com/subscriptions/<SUBSCRIPTION-ID>/resourceGroups/<RESOURCE-GROUP>/providers/Microsoft.Compute/virtualMachines/<VM-NAME>?api-version=2017-12-01' `\\\\n                               -ContentType 'application/json' `\\\\n                               -Authentication Bearer `\\\"\\r\\n}. Please summarise it in a few sentences, using UK grammar and ensure the response is formatted for markdown. Do not start the response with here is summary.\"}",
      "Response": "The commit updates a PowerShell script in the Azure documentation for using managed identities. The changes involve correcting a typo in the `Invoke-RestMethod` cmdlet and adjusting how the access token is extracted and used in the script examples. These modifications aim to improve the accuracy and clarity of the provided code snippets for developers.",
      "Model": "google:gemini-2.5-flash-lite",
      "Provider": "google",
      "ModelName": "gemini-2.5-flash-lite",
      "Timestamp": "2025-10-27T18:01:05.5370256+00:00"
    },
    "files": [
      {
        "filename": "docs/identity/managed-identities-azure-resources/how-to-use-vm-token.md",
        "status": "modified",
        "additions": 5,
        "deletions": 6
      }
    ]
  }
]